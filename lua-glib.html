<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content=
"HTML Tidy for HTML5 for Linux version 5.6.0" />
<meta http-equiv="Content-Type" content=
"text/html; charset=utf-8" />
<title>Reference</title>
<link rel="stylesheet" href="ldoc.css" type="text/css" />
</head>
<body>
<div id="container">
<div id="product">
<div id="product_logo"></div>
<div id="product_name"></div>
<div id="product_description"></div>
</div>
<!-- id="product" -->
<div id="main"><!-- Menu -->
<div id="navigation"><br />
<h1>lua-glib</h1>
<h2>Contents</h2>
<ul>
<li><a href="#Version_Information">Version Information</a></li>
<li><a href="#Standard_Macros">Standard Macros</a></li>
<li><a href="#Message_Logging">Message Logging</a></li>
<li><a href="#Character_Set_Conversion">Character Set
Conversion</a></li>
<li><a href="#Unicode_Manipulation">Unicode Manipulation</a></li>
<li><a href="#Base___Encoding">Base64 Encoding</a></li>
<li><a href="#Data_Checksums">Data Checksums</a></li>
<li><a href="#Secure_HMAC_Digests">Secure HMAC Digests</a></li>
<li><a href="#Internationalization">Internationalization</a></li>
<li><a href="#Date_and_Time_Functions">Date and Time
Functions</a></li>
<li><a href="#Random_Numbers">Random Numbers</a></li>
<li><a href="#Miscellaneous_Utility_Functions">Miscellaneous
Utility Functions</a></li>
<li><a href="#Timers">Timers</a></li>
<li><a href="#Class_timer">Class timer</a></li>
<li><a href="#Spawning_Processes">Spawning Processes</a></li>
<li><a href="#Class_process">Class process</a></li>
<li><a href="#File_Utilities">File Utilities</a></li>
<li><a href="#URI_Functions">URI Functions</a></li>
<li><a href="#Hostname_Utilities">Hostname Utilities</a></li>
<li><a href="#Shell_related_Utilities">Shell-related
Utilities</a></li>
<li><a href="#Perl_compatible_Regular_Expressions">Perl-compatible
Regular Expressions</a></li>
<li><a href="#Class_regex">Class regex</a></li>
<li><a href="#Simple_XML_Subset_Parser">Simple XML Subset
Parser</a></li>
<li><a href="#Class_markup_parse_context">Class
markup_parse_context</a></li>
<li><a href="#Key_value_file_parser">Key-value file parser</a></li>
<li><a href="#Class_key_file">Class key_file</a></li>
<li><a href="#Bookmark_file_parser">Bookmark file parser</a></li>
<li><a href="#Class_bookmark_file">Class bookmark_file</a></li>
</ul>
<h2>Modules</h2>
<ul>
<li><strong>glib</strong></li>
</ul>
</div>
<div id="content">
<h1>Module <code>glib</code></h1>
<p>This package wraps the GLib library fairly thinly.</p>
<p>Unlike other lua-glib implementations, this is not meant to be a
stepping stone for GTK+ support. It is meant to be a portability
and utility library. There are other projects which provide support
for GTK+ and other various derivatives of GLib.</p>
<p>Some features this library provides that other wrappers with
similar scope don’t are:</p>
<ul>
<li>132 functions, 10 variables, 6 custom datatypes (adding 103
more functions as type methods), all documented using LuaDoc.
Having the GLib docs on hand helps, but is not strictly necessary.
Documentation is organized into mostly the same sections as the
GLib documentation.</li>
<li>Streaming support where glib has it (e.g. conversion,
checksums). This means that rather than requiring all input at
once, it can be fed in piece-wise. For example, see <a href=
"lua-glib.html#_convert_">_convert_</a> .</li>
<li>Improved process spawn support, including redirection to/from
lua “native” files and asynchronous lua readers and writers. See
<a href="lua-glib.html#spawn">spawn</a> and <a href=
"lua-glib.html#Class_process">process</a> .</li>
<li>Global functions for gettext support (e.g. <a href=
"lua-glib.html#_">_</a> ())</li>
</ul>
<p>The specific version against which this was developed was
2.32.4; I have scanned the documentation for added symbols, and it
should compile as far back as version 2.26 with a few minor missing
features (search for “available with GLib” or “ignored with GLib”).
The reason 2.26 was chosen is that it is the oldest version
permitted with the GLIB_VERSION_MIN_REQUIRED macro, even though I
could’ve gone as low as 2.18 without significant loss of
functionality. I have also in the mean time added a few bits from
versions up to 2.42.2, and updated compilability to 2.68.3.</p>
<p>The sections which are mostly supported are Version Information,
Character Set Conversion (including streaming), Unicode
Manipulation (skipping the low-level support functions and others
which would really need low-level Lua Unicode support), Base64
Encoding (including streaming), Data Checksums (including
streaming), Secure HMAC Digests (including streaming),
Internationalization (including gettext macros, but excluding some
of the low-level support functions), Miscellaneous Utility
Functions (except for bit operations, which really need to be added
to lua-bit, and a few other low-level/internal-use type functions),
Timers, Spawning Processes (including some extra features), File
Utilities (except a few MS library compatibility functions and
memory mapped files), URI Functions, Hostname Utilities,
Shell-related Utilities, Perl-compatible regular expressions, Simle
XML Subset Parser (without vararg functions since building varargs
generically is not possible), Key-value file parser, and Bookmark
file parser.</p>
<p>The only Standard Macros supported are the OS and path separator
macros. Date and Time Functions are mostly unsupported; the only
one which could not be replaced by a native Lua time library is
usleep, which is supported. The GTimeZone and GDateTime sections
are not supported for the same reason.</p>
<p>No support is provided for Type Conversion Macros, Byte Order
Macros, Numerical Definitions, or Miscellaneous Macros, as they are
all either too low-level or C-specific. No support is provided for
Atomic Operations, Threads, Thread Pools, or Asynchronous queues;
use a Lua-specific threading module instead (such as Lanes). No
support is provided for The Main Event Loop, as its utility versus
implementation effort seems low. No support is provided for Dynamic
Loading of Modules, because lua already does that. No support is
provided for Memory Allocation or Memory Slices, since you
shouldn’t be doing that in Lua. IO Channels also seem below my
minimum utility-to-effort ratio. There is no direct support for the
Error Reporting, Message Output, and Debugging Functions. There is
no support for replacing the log handlers or setting the fatality
flags in log messages, although that may come some day. The String
Utility Functions are C-specific, and not supported. The Hook
Functions seem useless for Lua. The Lexical Scanner is not very
configurable and hard to bind to Lua; use a made-for-Lua scanner
instead like Lpeg. No support is provided for the Commandline
option parser, as adapting it to Lua would remove most of its
convenience and there are plenty of other similar libraries for
lua. The Glob-style pattern matching is too simplistic and can
easily be emulated using regex-style patterns (for example, see
glob.lua, which should be packaged with this). The UNIX-specific
and Windows-specific functions are not supported, since such
blatantly non-portable functions should not be used. The Testing
framework is not supported, because a Lua-specific framework would
be more suited to the task. None of the GLib Data Types are
supported, although there may be merit in eventually supporting the
GVariant type somewhat.</p>
<p>Eventually, this may be split into multiple modules, so that
uselses stuff can be removed. However, removing useless stuff from
GLib is not easy, so having Lua bindings for what’s there is not
necessarily harmful.</p>
<p>This package was split off from my odin-lua project, so it uses
an Odinfile to build (and in fact requires itself to be present for
odin-lua to work, so it needs to be compiled by hand the first time
anyway). It’s just one C file, though, so it shouldn’t be too hard
to make a shared object out of it, linked to the glib and lua
libraries. For example, on amd64 Linux (may need to change -fPIC on
other architectures):</p>
<pre>
<code>gcc -O2 -fPIC `pkg-config glib-2.0 --cflags --libs` -llua -shared -o glib.so lua-glib.c
</code></pre>
<p>Or you could use Lake:</p>
<pre><code>lake NEEDS=gtk -lua lua-glib.c
</code></pre>
<p>This documentation was built as follows (again, this is in the
Odinfile):</p>
<pre>
<code> ldoc.lua -p lua-glib -o lua-glib -d . -f discount -t 'Lua GLib Library' lua-glib.c
</code></pre>
<p>Using <a href=
"http://stevedonovan.github.com/ldoc">ldoc-1.2.0</a>, with a patch
to escape underscores in in-line references:</p>
<pre><code>--- ldoc/markup.lua
+++ ldoc/markup.lua
@@ -42,6 +42,9 @@
    if backtick_references then
       res  = res:gsub('`([^`]+)`',function(name)
          local ref,err = markup.process_reference(name)
+         if not plain and ref then -- a nastiness with markdown.lua and underscores
+            name = name:gsub('_','\\_')
+         end
          if ref then
             return ('&lt;a href="%s"&gt;%s&lt;/a&gt; '):format(ldoc.href(ref),name)
          else
</code></pre>
<p>And <a href=
"http://asbradbury.org/projects/lua-discount/">lua-discount</a>,
changed to use the system discount library:</p>
<pre><code>rm -f *.h
make DISCOUNT_OBJS= LIBS=-lmarkdown
</code></pre>
<p>The <a href=
"http://www.pell.portland.or.us/~orc/Code/discount/">discount</a>
version I used was 2.1.5a, with everything enabled, and compiled
with -fPIC to enable linking with shared libraries.</p>
<p>Note that since LDoc does not support error return sections, I
have used exception sections (@raise) instead.</p>
<p>For Bitbucket, I have converted this documentation to rst using
pandoc and a bit of filtering. See the Lua filtering code in
Odinfile; this almost certainly needs Odin for best results. I
chose rst because markdown doesn’t do tables (at least not in a way
that’s compatible with anything pandoc can produce). Originally, I
used textile because github appears to display markup as ASCII if
it takes too long to process, and only textile seemed to be fast
enough. However, textile output is broken on bitbucket and it
seemed easier to just use the rst output I had already tweaked.</p>
<p>Questions/comments to darktjm@gmail.com.</p>
<h2><a href="#Version_Information">Version Information</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#version">version</a></td>
<td class="summary">GLib version string.</td>
</tr>
</table>
<h2><a href="#Standard_Macros">Standard Macros</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href="#os">os</a></td>
<td class="summary">Operating system.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#dir_separator">dir_separator</a></td>
<td class="summary">Directory separator.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#searchpath_separator">searchpath_separator</a></td>
<td class="summary">Path list separator</td>
</tr>
</table>
<h2><a href="#Message_Logging">Message Logging</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#log">log&nbsp;([domain][, level], msg)</a></td>
<td class="summary">Log a message, GLib-style.</td>
</tr>
</table>
<h2><a href="#Character_Set_Conversion">Character Set
Conversion</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#_convert_">_convert_&nbsp;([str])</a></td>
<td class="summary">Stream character conversion function returned
by <a href="lua-glib.html#convert">convert</a> .</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#convert">convert&nbsp;([str[, to[, from[, fallback]]]])</a></td>
<td class="summary">Convert strings from one character set to
another.</td>
</tr>
</table>
<h2><a href="#Unicode_Manipulation">Unicode Manipulation</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#validate">validate&nbsp;(c)</a></td>
<td class="summary">Check if unicode character is valid.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#isalpha">isalpha&nbsp;(c)</a></td>
<td class="summary">Check if Unicode character is alphabetic.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#iscntrl">iscntrl&nbsp;(c)</a></td>
<td class="summary">Check if Unicode character is a control
character.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#isdefined">isdefined&nbsp;(c)</a></td>
<td class="summary">Check if Unicode character is explicitly
defined in the Unicode standard.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#isdigit">isdigit&nbsp;(c)</a></td>
<td class="summary">Check if Unicode character is a decimal
digit.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#isgraph">isgraph&nbsp;(c)</a></td>
<td class="summary">Check if Unicode character is a visible,
printable character.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#islower">islower&nbsp;(c)</a></td>
<td class="summary">Check if Unicode character is a lower-case
alphabetic character.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#ismark">ismark&nbsp;(c)</a></td>
<td class="summary">Check if Unicode character is a mark.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#isprint">isprint&nbsp;(c)</a></td>
<td class="summary">Check if Unicode character is printable.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#ispunct">ispunct&nbsp;(c)</a></td>
<td class="summary">Check if Unicode character is a punctuation or
symbol character.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#isspace">isspace&nbsp;(c)</a></td>
<td class="summary">Check if Unicode character is whitespace.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#istitle">istitle&nbsp;(c)</a></td>
<td class="summary">Check if Unicode character is titlecase.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#isupper">isupper&nbsp;(c)</a></td>
<td class="summary">Check if Unicode character is upper-case.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#isxdigit">isxdigit&nbsp;(c)</a></td>
<td class="summary">Check if Unicode character is hexadecimal
digit.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#iswide">iswide&nbsp;(c)</a></td>
<td class="summary">Check if Unicode character is wide.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#iswide_cjk">iswide_cjk&nbsp;(c)</a></td>
<td class="summary">Check if Unicode character is wide in legacy
East Asian locales.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#iszerowidth">iszerowidth&nbsp;(c)</a></td>
<td class="summary">Check if Unicode character is zero-width.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#toupper">toupper&nbsp;(c)</a></td>
<td class="summary">Convert Unicode character to upper-case.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#tolower">tolower&nbsp;(c)</a></td>
<td class="summary">Convert Unicode character to lower-case.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#totitle">totitle&nbsp;(c)</a></td>
<td class="summary">Convert Unicode character to title case.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#digit_value">digit_value&nbsp;(c)</a></td>
<td class="summary">Convert digit to its numeric value.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#xdigit_value">xdigit_value&nbsp;(c)</a></td>
<td class="summary">Convert hexadecimal digit to its numeric
value.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#type">type&nbsp;(c)</a></td>
<td class="summary">Find Unicode character class.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#break_type">break_type&nbsp;(c)</a></td>
<td class="summary">Find Unicode character’s line break
classification.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#get_mirror_char">get_mirror_char&nbsp;(c)</a></td>
<td class="summary">Find Unicode mirroring character.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#get_script">get_script&nbsp;(c)</a></td>
<td class="summary">Find ISO 15924 script for a Unicode
character.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#utf8_sub">utf8_sub&nbsp;(s[, first[, last]])</a></td>
<td class="summary">Obtain a substring of a utf-8-encoded
string.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#utf8_len">utf8_len&nbsp;(s)</a></td>
<td class="summary">Obtain the number of code points in a
utf-8-encoded string.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#utf8_validate">utf8_validate&nbsp;(s)</a></td>
<td class="summary">Check if a string is valid UTF-8.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#utf8_strup">utf8_strup&nbsp;(s)</a></td>
<td class="summary">Convert UTF-8 string to upper-case.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#utf8_strdown">utf8_strdown&nbsp;(s)</a></td>
<td class="summary">Convert UTF-8 string to lower-case.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#utf8_casefold">utf8_casefold&nbsp;(s)</a></td>
<td class="summary">Convert UTF-8 string to case-independent
form.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#utf8_normalize">utf8_normalize&nbsp;(s[, compose[,
compatible]])</a></td>
<td class="summary">Perform standard Unicode normalization on a
UTF-8 string.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#utf8_collate">utf8_collate&nbsp;(s1, s2)</a></td>
<td class="summary">Compare UTF-8 strings for collation.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#utf8_collate_key">utf8_collate_key&nbsp;(s)</a></td>
<td class="summary">Create a comparison key for a UTF-8
string.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#utf8_collate_key_for_filename">utf8_collate_key_for_filename&nbsp;(s)</a></td>
<td class="summary">Create a comparison key for a UTF-8 filename
string.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#utf8_to_utf16">utf8_to_utf16&nbsp;(s)</a></td>
<td class="summary">Convert a UTF-8 string to UTF-16.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#utf8_to_ucs4">utf8_to_ucs4&nbsp;(s)</a></td>
<td class="summary">Convert a UTF-8 string to UCS-4.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#utf16_to_utf8">utf16_to_utf8&nbsp;(s)</a></td>
<td class="summary">Convert a UTF-16 string to UTF-8.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#utf16_to_ucs4">utf16_to_ucs4&nbsp;(s)</a></td>
<td class="summary">Convert a UTF-16 string to UCS-4.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#ucs4_to_utf16">ucs4_to_utf16&nbsp;(s)</a></td>
<td class="summary">Convert a UCS-4 string to UTF-16.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#ucs4_to_utf8">ucs4_to_utf8&nbsp;(s)</a></td>
<td class="summary">Convert a UCS-4 string to UTF-8.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#to_utf8">to_utf8&nbsp;(c)</a></td>
<td class="summary">Convert a UCS-4 code point to UTF-8.</td>
</tr>
</table>
<h2><a href="#Base___Encoding">Base64 Encoding</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#_base64_encode_">_base64_encode_&nbsp;([s])</a></td>
<td class="summary">Stream Base64-encoding function returned by
<a href="lua-glib.html#base64_encode">base64_encode</a> .</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#base64_encode">base64_encode&nbsp;([s])</a></td>
<td class="summary">Base64-encode a string.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#_base64_decode_">_base64_decode_&nbsp;([s])</a></td>
<td class="summary">Stream Base64-decoding function returned by
<a href="lua-glib.html#base64_decode">base64_decode</a> .</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#base64_decode">base64_decode&nbsp;([s])</a></td>
<td class="summary">Base64-decode a string.</td>
</tr>
</table>
<h2><a href="#Data_Checksums">Data Checksums</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href="#_sum_">_sum_&nbsp;([s][,
raw])</a></td>
<td class="summary">Stream checksum/hash calculation function
type.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#md5sum">md5sum&nbsp;([s[, raw]])</a></td>
<td class="summary">Compute MD5 checksum of a string.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#sha1sum">sha1sum&nbsp;([s[, raw]])</a></td>
<td class="summary">Compute SHA1 checksum of a string.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#sha256sum">sha256sum&nbsp;([s[, raw]])</a></td>
<td class="summary">Compute SHA256 checksum of a string.</td>
</tr>
</table>
<h2><a href="#Secure_HMAC_Digests">Secure HMAC Digests</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#_hmac_">_hmac_&nbsp;([s][, raw])</a></td>
<td class="summary">Stream HMAC calculation function.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#md5hmac">md5hmac&nbsp;(key[, s[, raw]])</a></td>
<td class="summary">Compute secure HMAC digest using MD5.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#sha1hmac">sha1hmac&nbsp;(key[, s[, raw]])</a></td>
<td class="summary">Compute secure HMAC digest using SHA1.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#sha256hmac">sha256hmac&nbsp;(key[, s[, raw]])</a></td>
<td class="summary">Compute secure HMAC digest using SHA256.</td>
</tr>
</table>
<h2><a href="#Internationalization">Internationalization</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#textdomain">textdomain&nbsp;([domain[, path[,
encoding]]])</a></td>
<td class="summary">Set or query text message database
location.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href="#_">_&nbsp;(s)</a></td>
<td class="summary">Replace text with its translation.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href="#Q_">Q_&nbsp;(s)</a></td>
<td class="summary">Replace text and context with its
translation.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href="#C_">C_&nbsp;(c,
s)</a></td>
<td class="summary">Replace text and context with its
translation.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href="#N_">N_&nbsp;(s)</a></td>
<td class="summary">Mark text for translation.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href="#NC_">NC_&nbsp;(c,
s)</a></td>
<td class="summary">Mark text for translation with context.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#ngettext">ngettext&nbsp;(singular, plural, n)</a></td>
<td class="summary">Replace text with its number-appropriate
translation.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#get_locale_variants">get_locale_variants&nbsp;([locale])</a></td>
<td class="summary">Obtain list of valid locale names.</td>
</tr>
</table>
<h2><a href="#Date_and_Time_Functions">Date and Time
Functions</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#sleep">sleep&nbsp;(t)</a></td>
<td class="summary">Suspend execution for some seconds.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#usleep">usleep&nbsp;(t)</a></td>
<td class="summary">Suspend execution for some microseconds.</td>
</tr>
</table>
<h2><a href="#Random_Numbers">Random Numbers</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#random">random&nbsp;([low[, high]])</a></td>
<td class="summary">Obtain a psuedorandom number.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#rand_new">rand_new&nbsp;([seed])</a></td>
<td class="summary">Obtain a psuedorandom number generator, given a
seed.</td>
</tr>
</table>
<h2><a href="#Miscellaneous_Utility_Functions">Miscellaneous
Utility Functions</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#application_name">application_name&nbsp;([name])</a></td>
<td class="summary">Set or get localized application name.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#prgname">prgname&nbsp;([name])</a></td>
<td class="summary">Set or get program name.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#getenv">getenv&nbsp;(name)</a></td>
<td class="summary">Get environment variable value.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#setenv">setenv&nbsp;(name, value[, replace])</a></td>
<td class="summary">Set environment variable value.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#unsetenv">unsetenv&nbsp;(name)</a></td>
<td class="summary">Remove environment variable.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#listenv">listenv&nbsp;()</a></td>
<td class="summary">Obtain names of all environment variables.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#get_user_name">get_user_name&nbsp;()</a></td>
<td class="summary">Obtain system user name for current user.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#get_real_name">get_real_name&nbsp;()</a></td>
<td class="summary">Obtain full user name for current user.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#get_dir_name">get_dir_name&nbsp;(d)</a></td>
<td class="summary">Obtain a standard directory name.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#get_host_name">get_host_name&nbsp;()</a></td>
<td class="summary">Obtain current host name.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#get_current_dir">get_current_dir&nbsp;()</a></td>
<td class="summary">Obtain current working directory.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#path_is_absolute">path_is_absolute&nbsp;(d)</a></td>
<td class="summary">Check if a directory is absolute.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#path_split_root">path_split_root&nbsp;(d)</a></td>
<td class="summary">Split the root part from a path.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#path_get_basename">path_get_basename&nbsp;(d)</a></td>
<td class="summary">Obtain the last element of a path.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#path_get_dirname">path_get_dirname&nbsp;(d)</a></td>
<td class="summary">Obtain all but the last element of a path.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#build_filename">build_filename&nbsp;(...)</a></td>
<td class="summary">Construct a file name from its path
constituents.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#build_path">build_path&nbsp;(sep, ...)</a></td>
<td class="summary">Construct a path from its constituents.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#path_canonicalize">path_canonicalize&nbsp;(f)</a></td>
<td class="summary">Canonicalize a path name.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href="#qsort">qsort&nbsp;(t[,
cmp])</a></td>
<td class="summary">Sort a table using a stable quicksort
algorithm.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href="#cmp">cmp&nbsp;(a,
b)</a></td>
<td class="summary">Compare two objects.</td>
</tr>
</table>
<h2><a href="#Timers">Timers</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#timer_new">timer_new&nbsp;()</a></td>
<td class="summary">Create a stopwatch-like timer.</td>
</tr>
</table>
<h2><a href="#Class_timer">Class timer</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#timer:start">timer:start&nbsp;()</a></td>
<td class="summary">Start or reset the timer.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#timer:stop">timer:stop&nbsp;()</a></td>
<td class="summary">Stop the timer if it is running.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#timer:continue">timer:continue&nbsp;()</a></td>
<td class="summary">Resume the timer if it is stopped.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#timer:elapsed">timer:elapsed&nbsp;()</a></td>
<td class="summary">Return the amount of time counted so far.</td>
</tr>
</table>
<h2><a href="#Spawning_Processes">Spawning Processes</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#spawn">spawn&nbsp;(args)</a></td>
<td class="summary">Run a command asynchronously.</td>
</tr>
</table>
<h2><a href="#Class_process">Class process</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#process:read_ready">process:read_ready&nbsp;(...)</a></td>
<td class="summary">Check if input is available from process
standard output.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#process:read_err_ready">process:read_err_ready&nbsp;(...)</a></td>
<td class="summary">Check if input is available from process
standard error.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#process:read">process:read&nbsp;(...)</a></td>
<td class="summary">Read data from a process' standard output.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#process:read_err">process:read_err&nbsp;(...)</a></td>
<td class="summary">Read data from a process' standard error.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#process:lines">process:lines&nbsp;()</a></td>
<td class="summary">Return an iterator which reads lines from the
process' standard output.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#process:lines_err">process:lines_err&nbsp;()</a></td>
<td class="summary">Return an iterator which reads lines from the
process' standard error.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#process:write_ready">process:write_ready&nbsp;()</a></td>
<td class="summary">Check if writing to the process' standard input
will block.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#process:write">process:write&nbsp;(...)</a></td>
<td class="summary">Write to a process' standard input.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#process:close">process:close&nbsp;()</a></td>
<td class="summary">Close the process' standard input channel.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#process:io_wait">process:io_wait&nbsp;([check_in[, check_out[,
check_err]]])</a></td>
<td class="summary">Check for process activity.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#process:pid">process:pid&nbsp;()</a></td>
<td class="summary">Return the glib process ID for the
process.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#process:status">process:status&nbsp;()</a></td>
<td class="summary">Return the status of the running process.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#process:check_exit_status">process:check_exit_status&nbsp;()</a></td>
<td class="summary">Check if the process return code was an
error.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#process:wait">process:wait&nbsp;()</a></td>
<td class="summary">Wait for process termination and clean up.</td>
</tr>
</table>
<h2><a href="#File_Utilities">File Utilities</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#file_get">file_get&nbsp;(name)</a></td>
<td class="summary">Return contents of a file as a string.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#file_set">file_set&nbsp;(name, contents)</a></td>
<td class="summary">Set contents of a file to a string.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#is_file">is_file&nbsp;(name)</a></td>
<td class="summary">Test if the given path points to a file.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#is_dir">is_dir&nbsp;(name)</a></td>
<td class="summary">Test if the given path points to a
directory.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#is_symlink">is_symlink&nbsp;(name)</a></td>
<td class="summary">Test if the given path points to a symbolic
link.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#is_exec">is_exec&nbsp;(name)</a></td>
<td class="summary">Test if the given path points to an executable
file.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#exists">exists&nbsp;(name)</a></td>
<td class="summary">Test if the given path points to a file or
directory.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#umask">umask&nbsp;([mask])</a></td>
<td class="summary">Change default file and directory creation
permissions mask.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#mkstemp">mkstemp&nbsp;(tmpl[, perm])</a></td>
<td class="summary">Create a unique temporary file from a
pattern.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#open_tmp">open_tmp&nbsp;([tmpl])</a></td>
<td class="summary">Create a unique temporary file in the standard
temporary directory.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#read_link">read_link&nbsp;(name)</a></td>
<td class="summary">Read the contents of a soft link.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#mkdir_with_parents">mkdir_with_parents&nbsp;(name[,
mode])</a></td>
<td class="summary">Create a directory and any required parent
directories.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#mkdtemp">mkdtemp&nbsp;(tmpl[, mode])</a></td>
<td class="summary">Create a unique tempoarary directory from a
pattern.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#dir_make_tmp">dir_make_tmp&nbsp;([tmpl])</a></td>
<td class="summary">Create a unique temporary directory in the
standard temporary directory.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#dir">dir&nbsp;(d)</a></td>
<td class="summary">Returns an iterator which lists entries in a
directory.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#rename">rename&nbsp;(old, new)</a></td>
<td class="summary">Rename a file sytem entity.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#mkdir">mkdir&nbsp;(name[, mode])</a></td>
<td class="summary">Create a directory.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href="#stat">stat&nbsp;(name[,
fields])</a></td>
<td class="summary">Retrieve information on a file system
entry.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#remove">remove&nbsp;(name)</a></td>
<td class="summary">Remove a file sytem entity.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href="#chmod">chmod&nbsp;(name,
perm)</a></td>
<td class="summary">Change filesystem entry permissions.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#can_read">can_read&nbsp;(name)</a></td>
<td class="summary">Test if fileystem object can be read.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#can_write">can_write&nbsp;(name)</a></td>
<td class="summary">Test if fileystem object can be written
to.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#chdir">chdir&nbsp;(dir)</a></td>
<td class="summary">Change current working directory.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#utime">utime&nbsp;(name[, atime[, mtime]])</a></td>
<td class="summary">Change timestamp on filesystem object.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href="#link">link&nbsp;(target,
name[, soft])</a></td>
<td class="summary">Create a link.</td>
</tr>
</table>
<h2><a href="#URI_Functions">URI Functions</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#uri_reserved_chars_allowed_in_path">uri_reserved_chars_allowed_in_path</a></td>
<td class="summary">Allowed characters in a path.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#uri_reserved_chars_allowed_in_path_element">uri_reserved_chars_allowed_in_path_element</a></td>
<td class="summary">Allowed characters in path elements.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#uri_reserved_chars_allowed_in_userinfo">uri_reserved_chars_allowed_in_userinfo</a></td>
<td class="summary">Allowed characters in userinfo (RFC 3986).</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#uri_reserved_chars_generic_delimiters">uri_reserved_chars_generic_delimiters</a></td>
<td class="summary">Generic delimiter characters (RFC 3986).</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#uri_reserved_chars_subcomponent_delimiters">uri_reserved_chars_subcomponent_delimiters</a></td>
<td class="summary">Subcomponent delimiter characters (RFC
3986).</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#uri_parse_scheme">uri_parse_scheme&nbsp;(uri)</a></td>
<td class="summary">Extract scheme from URI.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#uri_escape_string">uri_escape_string&nbsp;(s[, allow[,
utf8]])</a></td>
<td class="summary">Escapes a string for use in a URI.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#uri_unescape_string">uri_unescape_string&nbsp;(s[,
illegal])</a></td>
<td class="summary">Unescapes an escaped string.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#uri_list_extract_uris">uri_list_extract_uris&nbsp;(list)</a></td>
<td class="summary">Splits an URI list conforming to the
text/uri-list MIME type (RFC 2483).</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#filename_from_uri">filename_from_uri&nbsp;(uri)</a></td>
<td class="summary">Converts an ASCII-encoded URI to a local
filename.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#filename_to_uri">filename_to_uri&nbsp;(file[, host])</a></td>
<td class="summary">Converts an absolute filename to an escaped
ASCII-encoded URI.</td>
</tr>
</table>
<h2><a href="#Hostname_Utilities">Hostname Utilities</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#hostname_to_ascii">hostname_to_ascii&nbsp;(hostname)</a></td>
<td class="summary">Convert a host name to its canonical ASCII
form.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#hostname_to_unicode">hostname_to_unicode&nbsp;(hostname)</a></td>
<td class="summary">Convert a host name to its canonical Unicode
form.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#hostname_is_non_ascii">hostname_is_non_ascii&nbsp;(hostname)</a></td>
<td class="summary">Check if a host name contains Unicode
characters.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#hostname_is_ascii_encoded">hostname_is_ascii_encoded&nbsp;(hostname)</a></td>
<td class="summary">Check if a host name contains ASCII-encoded
Unicode characters.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#hostname_is_ip_address">hostname_is_ip_address&nbsp;(hostname)</a></td>
<td class="summary">Check if a string is an IPv4 or IPv6 numeric
address.</td>
</tr>
</table>
<h2><a href="#Shell_related_Utilities">Shell-related
Utilities</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#shell_parse_argv">shell_parse_argv&nbsp;(cmdline)</a></td>
<td class="summary">Parse a command line into an argument vector,
but without variable and glob pattern expansion.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#shell_quote">shell_quote&nbsp;(s)</a></td>
<td class="summary">Quote a string so it is interpreted unmodified
as a shell argument.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#shell_unquote">shell_unquote&nbsp;(s)</a></td>
<td class="summary">Unquote a string quoted for use as a shell
argument.</td>
</tr>
</table>
<h2><a href="#Perl_compatible_Regular_Expressions">Perl-compatible
Regular Expressions</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#regex_new">regex_new&nbsp;(pattern[, cflags[, mflags]])</a></td>
<td class="summary">Compile a regular expression for use in
matching functions.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#regex_escape_string">regex_escape_string&nbsp;(s)</a></td>
<td class="summary">Escapes a string so it is a literal in a
regular expression.</td>
</tr>
</table>
<h2><a href="#Class_regex">Class regex</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#regex:get_pattern">regex:get_pattern&nbsp;()</a></td>
<td class="summary">Get the pattern string used to create this
regex.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#regex:get_max_backref">regex:get_max_backref&nbsp;()</a></td>
<td class="summary">Get the highest back reference in the
pattern.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#regex:get_has_cr_or_lf">regex:get_has_cr_or_lf&nbsp;()</a></td>
<td class="summary">Check if pattern contains explicit CR or LF
references.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#regex:get_max_lookbehind">regex:get_max_lookbehind&nbsp;()</a></td>
<td class="summary">Get the number of characters in the longest
lookbehind assertion in the pattern.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#regex:get_capture_count">regex:get_capture_count&nbsp;()</a></td>
<td class="summary">Get the number of capturing subpatterns in the
pattern.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#regex:get_string_number">regex:get_string_number&nbsp;(name)</a></td>
<td class="summary">Get the number of the capturing subexpression
with the given name.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#regex:get_compile_flags">regex:get_compile_flags&nbsp;()</a></td>
<td class="summary">Get the names of all compile flags set when
regex was created.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#regex:get_match_flags">regex:get_match_flags&nbsp;()</a></td>
<td class="summary">Get the names of all matching flags set when
regex was created.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#regex:find">regex:find&nbsp;(s[, start[, mflags]])</a></td>
<td class="summary">Search for a match in a string.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#regex:tfind">regex:tfind&nbsp;(s[, start[, mflags]])</a></td>
<td class="summary">Search for a match in a string.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#regex:match">regex:match&nbsp;(s[, start[, mflags]])</a></td>
<td class="summary">Search for a match in a string.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#regex:gmatch">regex:gmatch&nbsp;(s[, start[, mflags]])</a></td>
<td class="summary">Search for all matches in a string.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#regex:gfind">regex:gfind&nbsp;(s[, start[, mflags]])</a></td>
<td class="summary">Search for all matches in a string.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#regex:gtfind">regex:gtfind&nbsp;(s[, start[, mflags]])</a></td>
<td class="summary">Search for all matches in a string.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#regex:split">regex:split&nbsp;(s[, start[, mflags[,
max]]])</a></td>
<td class="summary">Split a string with a regular expression
separator.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#regex:gsub">regex:gsub&nbsp;(s, repl[, start[, n[,
mflags]]])</a></td>
<td class="summary">Replace occurrences of regular expression in
string.</td>
</tr>
</table>
<h2><a href="#Simple_XML_Subset_Parser">Simple XML Subset
Parser</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#markup_escape_text">markup_escape_text&nbsp;(s)</a></td>
<td class="summary">Escape text so GMarkup XML parsing will return
it to original.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#_gmarkup_start_element_">_gmarkup_start_element_&nbsp;(ctx, name,
attr_names, attr_values)</a></td>
<td class="summary">The function called when an opening tag of an
element is seen.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#_gmarkup_end_element_">_gmarkup_end_element_&nbsp;(ctx, name[,
pop])</a></td>
<td class="summary">The function called when an ending tag of an
element is seen.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#_gmarkup_text_">_gmarkup_text_&nbsp;(ctx, text)</a></td>
<td class="summary">The function called when text within an element
is seen.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#_gmarkup_passthrough_">_gmarkup_passthrough_&nbsp;(ctx,
text)</a></td>
<td class="summary">The function called when unprocessed text is
seen.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#_gmarkup_error_">_gmarkup_error_&nbsp;(ctx, text)</a></td>
<td class="summary">The function called when an error occurs during
parsing.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#markup_parse_context_new">markup_parse_context_new&nbsp;(options)</a></td>
<td class="summary">Create GMarkup parser.</td>
</tr>
</table>
<h2><a href="#Class_markup_parse_context">Class
markup_parse_context</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#markup_parse_context:end_parse">markup_parse_context:end_parse&nbsp;()</a></td>
<td class="summary">Finish parsing.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#markup_parse_context:get_position">markup_parse_context:get_position&nbsp;()</a></td>
<td class="summary">Obtain current position in source text.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#markup_parse_context:get_element">markup_parse_context:get_element&nbsp;()</a></td>
<td class="summary">Obtain the name of the current element being
processed.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#markup_parse_context:get_element_stack">markup_parse_context:get_element_stack&nbsp;()</a></td>
<td class="summary">Obtain the complete path of element names to
the current element being processed.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#markup_parse_context:parse">markup_parse_context:parse&nbsp;(s)</a></td>
<td class="summary">Parse some text.</td>
</tr>
</table>
<h2><a href="#Key_value_file_parser">Key-value file parser</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file_new">key_file_new&nbsp;()</a></td>
<td class="summary">Create a new, empty key file.</td>
</tr>
</table>
<h2><a href="#Class_key_file">Class key_file</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:set_list_separator">key_file:set_list_separator&nbsp;(sep)</a></td>
<td class="summary">Sets character to separate values in
lists.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:load_from_file">key_file:load_from_file&nbsp;(f[, dirs[,
keep_com[, keep_trans]]])</a></td>
<td class="summary">Load a file.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:load_from_data">key_file:load_from_data&nbsp;(s[,
keep_com[, keep_trans]])</a></td>
<td class="summary">Load data.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:to_data">key_file:to_data&nbsp;()</a></td>
<td class="summary">Convert entire key file to a string.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:save_to_file">key_file:save_to_file&nbsp;(name)</a></td>
<td class="summary">Writes out contents of key file.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:get_start_group">key_file:get_start_group&nbsp;()</a></td>
<td class="summary">Get the start group of the key file.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:get_groups">key_file:get_groups&nbsp;()</a></td>
<td class="summary">Get the names of all groups in the key
file.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:get_keys">key_file:get_keys&nbsp;(group)</a></td>
<td class="summary">Get the names of all keys in a group.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:has_group">key_file:has_group&nbsp;(group)</a></td>
<td class="summary">Check if group exists.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:has_key">key_file:has_key&nbsp;(group, key)</a></td>
<td class="summary">Check if key exists.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:raw_get">key_file:raw_get&nbsp;(group, key)</a></td>
<td class="summary">Obtain raw value of a key.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:get">key_file:get&nbsp;(group, key[, locale])</a></td>
<td class="summary">Obtain value of a key.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:get_boolean">key_file:get_boolean&nbsp;(group,
key)</a></td>
<td class="summary">Obtain value of a boolean key.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:get_number">key_file:get_number&nbsp;(group,
key)</a></td>
<td class="summary">Obtain value of a numeric key.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:get_list">key_file:get_list&nbsp;(group, key[,
locale])</a></td>
<td class="summary">Obtain value of a string list key.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:get_boolean_list">key_file:get_boolean_list&nbsp;(group,
key)</a></td>
<td class="summary">Obtain value of a boolean list key.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:get_number_list">key_file:get_number_list&nbsp;(group,
key)</a></td>
<td class="summary">Obtain value of a number list key.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:get_comment">key_file:get_comment&nbsp;([group[,
key]])</a></td>
<td class="summary">Obtain comment above a key or group.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:raw_set">key_file:raw_set&nbsp;(group, key,
value)</a></td>
<td class="summary">Set raw value of a key.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:set">key_file:set&nbsp;(group, key, value[,
locale])</a></td>
<td class="summary">Set value of a key.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:set_boolean">key_file:set_boolean&nbsp;(group, key,
value)</a></td>
<td class="summary">Set value of a boolean key.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:set_number">key_file:set_number&nbsp;(group, key,
value)</a></td>
<td class="summary">Set value of a numeric key.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:set_list">key_file:set_list&nbsp;(group, key, value[,
locale])</a></td>
<td class="summary">Set value of a string list key.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:set_boolean_list">key_file:set_boolean_list&nbsp;(group,
key, value)</a></td>
<td class="summary">Set value of a boolean list key.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:set_number_list">key_file:set_number_list&nbsp;(group,
key)</a></td>
<td class="summary">Set value of a number list key.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:set_comment">key_file:set_comment&nbsp;(comment[,
group[, key]])</a></td>
<td class="summary">Set comment above a key or group.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:remove">key_file:remove&nbsp;(group[, key])</a></td>
<td class="summary">Remove a group or key.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#key_file:remove_comment">key_file:remove_comment&nbsp;([group[,
key]])</a></td>
<td class="summary">Remove comment above a key or group.</td>
</tr>
</table>
<h2><a href="#Bookmark_file_parser">Bookmark file parser</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file_new">bookmark_file_new&nbsp;()</a></td>
<td class="summary">Create a new, empty bookmark file.</td>
</tr>
</table>
<h2><a href="#Class_bookmark_file">Class bookmark_file</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:load_from_file">bookmark_file:load_from_file&nbsp;(f[,
use_dirs])</a></td>
<td class="summary">Load a file.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:load_from_data">bookmark_file:load_from_data&nbsp;(s)</a></td>
<td class="summary">Load data.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:to_data">bookmark_file:to_data&nbsp;()</a></td>
<td class="summary">Convert bookmark file to a string.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:to_file">bookmark_file:to_file&nbsp;(f)</a></td>
<td class="summary">Write bookmark file to a file.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:has_item">bookmark_file:has_item&nbsp;(uri)</a></td>
<td class="summary">Check if bookmark file has given URI.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:has_group">bookmark_file:has_group&nbsp;(uri,
group)</a></td>
<td class="summary">Check if bookmark file has given URI in a given
group.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:has_application">bookmark_file:has_application&nbsp;(uri,
app)</a></td>
<td class="summary">Check if bookmark file has given URI registered
by a given application.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:__len">bookmark_file:__len&nbsp;()</a></td>
<td class="summary">Get the number of bookmarks.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:uris">bookmark_file:uris&nbsp;()</a></td>
<td class="summary">Get all URIs.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:title">bookmark_file:title&nbsp;(uri)</a></td>
<td class="summary">Get title for URI</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:description">bookmark_file:description&nbsp;(uri)</a></td>
<td class="summary">Get description for URI</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:mime_type">bookmark_file:mime_type&nbsp;(uri)</a></td>
<td class="summary">Get MIME type for URI</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:is_private">bookmark_file:is_private&nbsp;(uri)</a></td>
<td class="summary">Get private flag for URI</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:icon">bookmark_file:icon&nbsp;(uri)</a></td>
<td class="summary">Get icon for URI.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:added">bookmark_file:added&nbsp;(uri)</a></td>
<td class="summary">Get time URI was added.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:modified">bookmark_file:modified&nbsp;(uri)</a></td>
<td class="summary">Get time URI was last modified.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:visited">bookmark_file:visited&nbsp;(uri)</a></td>
<td class="summary">Get time URI was last visited.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:groups">bookmark_file:groups&nbsp;(uri)</a></td>
<td class="summary">Get list of groups to which URI belongs.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:applications">bookmark_file:applications&nbsp;(uri)</a></td>
<td class="summary">Get list of applications which registered this
URI.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:boomark_file:app_info">bookmark_file:boomark_file:app_info&nbsp;(uri,
app)</a></td>
<td class="summary">Obtain registration information for application
which registered URI.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:set_title">bookmark_file:set_title&nbsp;([uri],
title)</a></td>
<td class="summary">Set title for URI</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:set_description">bookmark_file:set_description&nbsp;([uri],
desc)</a></td>
<td class="summary">Set description for URI</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:set_mime_type">bookmark_file:set_mime_type&nbsp;(uri,
mime_type)</a></td>
<td class="summary">Set MIME type for URI</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:set_is_private">bookmark_file:set_is_private&nbsp;(uri,
private)</a></td>
<td class="summary">Set private flag for URI</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:set_icon">bookmark_file:set_icon&nbsp;(uri, icon,
mime_type)</a></td>
<td class="summary">Set icon for URI.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:set_added">bookmark_file:set_added&nbsp;(uri,
time)</a></td>
<td class="summary">Set time URI was added.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:set_modified">bookmark_file:set_modified&nbsp;(uri,
time)</a></td>
<td class="summary">Set time URI was modified.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:set_visited">bookmark_file:set_visited&nbsp;(uri,
time)</a></td>
<td class="summary">Set time URI was visited.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:set_groups">bookmark_file:set_groups&nbsp;(uri)</a></td>
<td class="summary">Set list of groups to which URI belongs.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:set_app_info">bookmark_file:set_app_info&nbsp;(uri,
app, exec[, rcount[, stamp]])</a></td>
<td class="summary">Set registration information for application
which registered URI.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:add_group">bookmark_file:add_group&nbsp;(uri,
group)</a></td>
<td class="summary">Add a group to the list of groups URI belongs
to.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:add_application">bookmark_file:add_application&nbsp;(uri,
app, exec)</a></td>
<td class="summary">Add an application to the list of applications
that registered this URI.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:remove_group">bookmark_file:remove_group&nbsp;(uri,
group)</a></td>
<td class="summary">Remove a group from the list of groups URI
belongs to.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:remove_application">bookmark_file:remove_application&nbsp;(uri,
app)</a></td>
<td class="summary">Remove an application from the list of
applications that registered this URI.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:remove">bookmark_file:remove&nbsp;(uri)</a></td>
<td class="summary">Remove URI.</td>
</tr>
<tr>
<td class="name" nowrap="nowrap"><a href=
"#bookmark_file:move">bookmark_file:move&nbsp;(uri, new)</a></td>
<td class="summary">Change URI, retaining group and application
information.</td>
</tr>
</table>
<br />
<br />
<h2><a name="Version_Information" id=
"Version_Information"></a>Version Information</h2>
<dl class="function">
<dt><a name="version" id="version"></a>
<strong>version</strong></dt>
<dd>GLib version string. Version of running glib (not the one it
was compiled against). The format is
<em>major</em>.<em>minor</em>.<em>micro</em>.
<h3>Usage:</h3>
<div style="margin-left: 2em">
<pre class="example">gver = tonumber(glib.version:match '(.*)%.')
print(gver &gt; 2.30)</pre></div>
</dd>
</dl>
<h2><a name="Standard_Macros" id="Standard_Macros"></a>Standard
Macros</h2>
<dl class="function">
<dt><a name="os" id="os"></a> <strong>os</strong></dt>
<dd>Operating system. A string representing the operating system:
‘win32’, ‘beos’, ‘unix’, ‘unknown’</dd>
<dt><a name="dir_separator" id="dir_separator"></a>
<strong>dir_separator</strong></dt>
<dd>Directory separator. Unlike GLib’s directory separator, this
includes both valid values under Win32.</dd>
<dt><a name="searchpath_separator" id="searchpath_separator"></a>
<strong>searchpath_separator</strong></dt>
<dd>Path list separator</dd>
</dl>
<h2><a name="Message_Logging" id="Message_Logging"></a>Message
Logging</h2>
<dl class="function">
<dt><a name="log" id="log"></a> <strong>log&nbsp;([domain][,
level], msg)</strong></dt>
<dd>Log a message, GLib-style. This is a wrapper for
<code>g_log()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>domain</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The log
domain. This parameter may be absent to use
<code>G_LOG_DOMAIN</code>.</li>
<li><code><em>level</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The log
level. Acceptable values are:
<ul>
<li>‘crit’/‘critical’</li>
<li>‘debug’</li>
<li>‘err’/‘error’</li>
<li>‘info’</li>
<li>‘msg’/‘message’</li>
<li>‘warn’/‘warning’</li>
</ul>
<p>This parameter may be absent along with <em>domain</em> to
indicate ‘msg’.</p>
</li>
<li><code><em>msg</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The log
message. Unlike g_log(), no formatting is permitted. Collect and
format your string before logging.</li>
</ul>
</dd>
</dl>
<h2><a name="Character_Set_Conversion" id=
"Character_Set_Conversion"></a>Character Set Conversion</h2>
<dl class="function">
<dt><a name="_convert_" id="_convert_"></a>
<strong>_convert_&nbsp;([str])</strong></dt>
<dd>Stream character conversion function returned by <a href=
"lua-glib.html#convert">convert</a> . This function is returned by
<a href="lua-glib.html#convert">convert</a> to support converting
streams piecewise. Simply call with string arguments, accumulating
the returned strings. When finished with the stream, call with no
arguments. This will return the final string to append and reset
the stream for reuse.
<h3>Parameters:</h3>
<ul>
<li><code><em>str</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The next
piece of the string to convert; absent to finish conversion</li>
</ul>
<h3>Usage:</h3>
<div style="margin-left: 2em">
<pre class="example">c = glib.convert(nil, 'utf-8', 'latin1')
while true do
  buf = inf:read(4096)
  if not buf then break end
  outf:write(c(buf))
end
outf:write(c())</pre></div>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The next
piece of the converted string</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#convert">convert</a></div>
</dd>
<dt><a name="convert" id="convert"></a>
<strong>convert&nbsp;([str[, to[, from[,
fallback]]]])</strong></dt>
<dd>Convert strings from one character set to another. This is a
wrapper for <code>g_convert()</code> and friends. To convert a
stream, pass in no arguments or <code>nil</code> for str. The
return value is either the converted string, or a function matching
the <a href="lua-glib.html#_convert_">_convert_</a> function.
<h3>Parameters:</h3>
<ul>
<li><code><em>str</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
string to convert, or <code>nil</code>/absent to produce a
streaming converter</li>
<li><code><em>to</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
target character set. This may be <code>nil</code> or absent to
indicate the current locale. This may be ‘filename’ to indicate the
filename character set.</li>
<li><code><em>from</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
target character set. This may be <code>nil</code> or absent to
indicate the current locale. This may be ‘filename’ to indicate the
filename character set.</li>
<li><code><em>fallback</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> Any
characters in <em>from</em> which have no equivalent in <em>to</em>
are converted to this string. This is not supported in stream
mode.</li>
</ul>
<h3>Returns:</h3>
<ol>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
Converted string, if <em>str</em> was specified</li>
<li><strong>function</strong> stream convert function, if
<em>str</em> was <code>nil</code> or missing</li>
</ol>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#_convert_">_convert_</a></div>
</dd>
</dl>
<h2><a name="Unicode_Manipulation" id=
"Unicode_Manipulation"></a>Unicode Manipulation</h2>
<dl class="function">
<dt><a name="validate" id="validate"></a>
<strong>validate&nbsp;(c)</strong></dt>
<dd>Check if unicode character is valid. This is a wrapper for
<code>g_unichar_validate()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
<em>c</em> is valid</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.</dd>
<dt><a name="isalpha" id="isalpha"></a>
<strong>isalpha&nbsp;(c)</strong></dt>
<dd>Check if Unicode character is alphabetic. This is a wrapper for
<code>g_unichar_isalpha()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
<em>c</em> is alphabetic</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.</dd>
<dt><a name="iscntrl" id="iscntrl"></a>
<strong>iscntrl&nbsp;(c)</strong></dt>
<dd>Check if Unicode character is a control character. This is a
wrapper for <code>g_unichar_iscntrl()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
<em>c</em> is a control character</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.</dd>
<dt><a name="isdefined" id="isdefined"></a>
<strong>isdefined&nbsp;(c)</strong></dt>
<dd>Check if Unicode character is explicitly defined in the Unicode
standard. This is a wrapper for <code>g_unichar_isdefined()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
<em>c</em> is defined</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.</dd>
<dt><a name="isdigit" id="isdigit"></a>
<strong>isdigit&nbsp;(c)</strong></dt>
<dd>Check if Unicode character is a decimal digit. This is a
wrapper for <code>g_unichar_isdigit()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
<em>c</em> is a digit-like character</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.
<h3>see also:</h3>
<ul>
<li><a href="lua-glib.html#isxdigit">isxdigit</a></li>
<li><a href="lua-glib.html#digit_value">digit_value</a></li>
</ul>
</dd>
<dt><a name="isgraph" id="isgraph"></a>
<strong>isgraph&nbsp;(c)</strong></dt>
<dd>Check if Unicode character is a visible, printable character.
This is a wrapper for <code>g_unichar_isgraph()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
<em>c</em> is a graphic character</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.</dd>
<dt><a name="islower" id="islower"></a>
<strong>islower&nbsp;(c)</strong></dt>
<dd>Check if Unicode character is a lower-case alphabetic
character. This is a wrapper for <code>g_unichar_islower()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
<em>c</em> is lower-case.</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.</dd>
<dt><a name="ismark" id="ismark"></a>
<strong>ismark&nbsp;(c)</strong></dt>
<dd>Check if Unicode character is a mark. This is a wrapper for
<code>g_unichar_ismark()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
<em>c</em> is a non-spacing mark, combining mark, or enclosing
mark</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.</dd>
<dt><a name="isprint" id="isprint"></a>
<strong>isprint&nbsp;(c)</strong></dt>
<dd>Check if Unicode character is printable. This is a wrapper for
<code>g_unichar_isprint()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
<em>c</em> is printable, even if blank</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.</dd>
<dt><a name="ispunct" id="ispunct"></a>
<strong>ispunct&nbsp;(c)</strong></dt>
<dd>Check if Unicode character is a punctuation or symbol
character. This is a wrapper for <code>g_unichar_ispunct()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
<em>c</em> is a punctuation or symbol character</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.</dd>
<dt><a name="isspace" id="isspace"></a>
<strong>isspace&nbsp;(c)</strong></dt>
<dd>Check if Unicode character is whitespace. This is a wrapper for
<code>g_unichar_isspace()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
<em>c</em> is whitespace</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.</dd>
<dt><a name="istitle" id="istitle"></a>
<strong>istitle&nbsp;(c)</strong></dt>
<dd>Check if Unicode character is titlecase. This is a wrapper for
<code>g_unichar_istitle()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
<em>c</em> is titlecase alphabetic</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.</dd>
<dt><a name="isupper" id="isupper"></a>
<strong>isupper&nbsp;(c)</strong></dt>
<dd>Check if Unicode character is upper-case. This is a wrapper for
<code>g_unichar_isupper()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
<em>c</em> is upper-case alphabetic</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.</dd>
<dt><a name="isxdigit" id="isxdigit"></a>
<strong>isxdigit&nbsp;(c)</strong></dt>
<dd>Check if Unicode character is hexadecimal digit. This is a
wrapper for <code>g_unichar_isxdigit()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
<em>c</em> is a hexadecimal digit</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.
<h3>see also:</h3>
<ul>
<li><a href="lua-glib.html#isdigit">isdigit</a></li>
<li><a href="lua-glib.html#xdigit_value">xdigit_value</a></li>
</ul>
</dd>
<dt><a name="iswide" id="iswide"></a>
<strong>iswide&nbsp;(c)</strong></dt>
<dd>Check if Unicode character is wide. This is a wrapper for
<code>g_unichar_iswide()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
<em>c</em> is double-width</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.</dd>
<dt><a name="iswide_cjk" id="iswide_cjk"></a>
<strong>iswide_cjk&nbsp;(c)</strong></dt>
<dd>Check if Unicode character is wide in legacy East Asian
locales. This is a wrapper for <code>g_unichar_iswide_cjk()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
<em>c</em> is double-width normally or in legacy East-Asian
locales</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.</dd>
<dt><a name="iszerowidth" id="iszerowidth"></a>
<strong>iszerowidth&nbsp;(c)</strong></dt>
<dd>Check if Unicode character is zero-width. This is a wrapper for
<code>g_unichar_iszerowidth()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
<em>c</em> is a zero-width combining character</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.</dd>
<dt><a name="toupper" id="toupper"></a>
<strong>toupper&nbsp;(c)</strong></dt>
<dd>Convert Unicode character to upper-case. This is a wrapper for
<code>g_unichar_toupper()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The result of conversion, as either an
integer or a utf-8 string, depending on what <em>c</em> was.</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.</dd>
<dt><a name="tolower" id="tolower"></a>
<strong>tolower&nbsp;(c)</strong></dt>
<dd>Convert Unicode character to lower-case. This is a wrapper for
<code>g_unichar_tolower()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The result of conversion, as either an
integer or a utf-8 string, depending on what <em>c</em> was.</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.</dd>
<dt><a name="totitle" id="totitle"></a>
<strong>totitle&nbsp;(c)</strong></dt>
<dd>Convert Unicode character to title case. This is a wrapper for
<code>g_unichar_totitle()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The result of conversion, as either an
integer or a utf-8 string, depending on what <em>c</em> was.</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.</dd>
<dt><a name="digit_value" id="digit_value"></a>
<strong>digit_value&nbsp;(c)</strong></dt>
<dd>Convert digit to its numeric value. This is a wrapper for
<code>g_unichar_digit_value()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>number</strong> The digit’s
numeric value</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8. Returns -1 if <em>c</em> is not a digit.
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#isdigit">isdigit</a></div>
</dd>
<dt><a name="xdigit_value" id="xdigit_value"></a>
<strong>xdigit_value&nbsp;(c)</strong></dt>
<dd>Convert hexadecimal digit to its numeric value. This is a
wrapper for <code>g_unichar_xdigit_value()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>number</strong> The hex
digit’s numeric value</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8. Returns -1 if <em>c</em> is not a hex digit.
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#isxdigit">isxdigit</a></div>
</dd>
<dt><a name="type" id="type"></a>
<strong>type&nbsp;(c)</strong></dt>
<dd>Find Unicode character class. This is a wrapper for
<code>g_unichar_type()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
character’s class; one of: <code>control</code>,
<code>format</code>, <code>unassigned</code>,
<code>private_use</code>, <code>surrogate</code>,
<code>lowercase_letter</code>, <code>modifier_letter</code>,
<code>other_letter</code>, <code>titlecase_letter</code>,
<code>uppercase_letter</code>, <code>spacing_mark</code>,
<code>enclosing_mark</code>, <code>non_spacing_mark</code>,
<code>decimal_number</code>, <code>letter_number</code>,
<code>other_number</code>, <code>connect_punctuation</code>,
<code>dash_punctuation</code>, <code>close_punctuation</code>,
<code>final_punctuation</code>, <code>initial_punctuation</code>,
<code>other_punctuation</code>, <code>open_punctuation</code>,
<code>currency_symbol</code>, <code>modifier_symbol</code>,
<code>math_symbol</code>, <code>other_symbol</code>,
<code>line_separator</code>, <code>paragraph_separator</code>,
<code>space_separator</code>.</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.</dd>
<dt><a name="break_type" id="break_type"></a>
<strong>break_type&nbsp;(c)</strong></dt>
<dd>Find Unicode character’s line break classification. This is a
wrapper for <code>g_unichar_break_type()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The line
break classification; one of: <code>mandatory</code>,
<code>carriage_return</code>, <code>line_feed</code>,
<code>combining_mark</code>, <code>surrogate</code>,
<code>zero_width_space</code>, <code>inseperable</code>,
<code>non_breaking_glue</code>, <code>contingent</code>,
<code>space</code>, <code>after</code>, <code>before</code>,
<code>before_and_after</code>, <code>hyphen</code>,
<code>non_starter</code>, <code>open_punctuation</code>,
<code>close_punctuation</code>, <code>quotation</code>,
<code>exclamation</code>, <code>ideographic</code>,
<code>numeric</code>, <code>infix_separator</code>,
<code>symbol</code>, <code>alphabetic</code>, <code>prefix</code>,
<code>postfix</code>, <code>complex_context</code>,
<code>ambiguous</code>, <code>unknown</code>,
<code>next_line</code>, <code>word_joiner</code>,
<code>hangul_l_jamo</code>, <code>hangul_v_jamo</code>,
<code>hangul_t_jamo</code>, <code>hangul_lv_syllable</code>,
<code>hangul_lvt_syllable</code>, <code>close_parenthesis</code>,
<code>conditional_japanese_starter</code>,
<code>hebrew_letter</code>.</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.</dd>
<dt><a name="get_mirror_char" id="get_mirror_char"></a>
<strong>get_mirror_char&nbsp;(c)</strong></dt>
<dd>Find Unicode mirroring character. This is a wrapper for
<code>g_unichar_get_mirror_char()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> |<strong>nil</strong> <code>nil</code> if
the character has no mirror; otherwise, the mirror character. The
returned character is either an integer or a utf-8 string,
depending on the input.</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.</dd>
<dt><a name="get_script" id="get_script"></a>
<strong>get_script&nbsp;(c)</strong></dt>
<dd>Find ISO 15924 script for a Unicode character. This is a
wrapper for <code>g_unichar_get_script()</code>.
<p>This is only available with GLib 2.30 or later.</p>
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
four-letter ISO 15924 script code for <em>c</em>.</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.</dd>
<dt><a name="utf8_sub" id="utf8_sub"></a>
<strong>utf8_sub&nbsp;(s[, first[, last]])</strong></dt>
<dd>Obtain a substring of a utf-8-encoded string. This is not a
wrapper for <code>g_utf8_substring()</code>, but instead code which
emulates <a href=
"http://www.lua.org/manual/5.1/manual.html#pdf-string.sub">string.sub</a>
using <code>g_utf8_offset_to_pointer()</code> and
<code>g_utf8_strlen()</code>. Positive positions start at the
beginining of the string, and negative positions start at the end.
Position numbers refer to code points rather than byte offsets.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
utf-8-encoded source string</li>
<li><code><em>first</em></code>: <strong>number</strong> The first
Unicode code point (default is 1)</li>
<li><code><em>last</em></code>: <strong>number</strong> The last
Unicode code point (default is -1)</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
requested substring. Out-of-bound ranges result in an empty
string.</div>
</dd>
<dt><a name="utf8_len" id="utf8_len"></a>
<strong>utf8_len&nbsp;(s)</strong></dt>
<dd>Obtain the number of code points in a utf-8-encoded string.
This is a wrapper for <code>g_utf8_strlen()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
string</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>number</strong> The length of
<em>s</em>, in code points.</div>
</dd>
<dt><a name="utf8_validate" id="utf8_validate"></a>
<strong>utf8_validate&nbsp;(s)</strong></dt>
<dd>Check if a string is valid UTF-8. This is a wrapper for
<code>g_utf8_validate()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
string</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
<em>s</em> is valid UTF-8.</div>
</dd>
<dt><a name="utf8_strup" id="utf8_strup"></a>
<strong>utf8_strup&nbsp;(s)</strong></dt>
<dd>Convert UTF-8 string to upper-case. This is a wrapper for
<code>g_utf8_strup()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
source string</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
<em>s</em>, with all lower-case characters converted to
upper-case</div>
</dd>
<dt><a name="utf8_strdown" id="utf8_strdown"></a>
<strong>utf8_strdown&nbsp;(s)</strong></dt>
<dd>Convert UTF-8 string to lower-case. This is a wrapper for
<code>g_utf8_strdown()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
source string</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
<em>s</em>, with all upper-case characters converted to
lower-case</div>
</dd>
<dt><a name="utf8_casefold" id="utf8_casefold"></a>
<strong>utf8_casefold&nbsp;(s)</strong></dt>
<dd>Convert UTF-8 string to case-independent form. This is a
wrapper for <code>g_utf8_casefold()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
source string</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
<em>s</em>, in a form that is suitable for case-insensitive direct
string comparison.</div>
</dd>
<dt><a name="utf8_normalize" id="utf8_normalize"></a>
<strong>utf8_normalize&nbsp;(s[, compose[,
compatible]])</strong></dt>
<dd>Perform standard Unicode normalization on a UTF-8 string. This
is a wrapper for <code>g_utf8_normalize()</code>. The four standard
normalizations are NFD (the default), NFC (compose), NFKD
(compatible), and NFKC (compose, compatible).
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
string to normalize</li>
<li><code><em>compose</em></code>: <strong>boolean</strong> If
true, perform canonical composition. Otherwise, leave in decomposed
form.</li>
<li><code><em>compatible</em></code>: <strong>boolean</strong> If
true, decompose using compatibility decompostions. Otherwise, only
decompose using canonical decompositions.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
normalized UTF-8 string.</div>
</dd>
<dt><a name="utf8_collate" id="utf8_collate"></a>
<strong>utf8_collate&nbsp;(s1, s2)</strong></dt>
<dd>Compare UTF-8 strings for collation. This is a wrapper for
<code>g_utf8_collate()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>s1</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
first string</li>
<li><code><em>s2</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
second string</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>number</strong> Numeric
comparison result: less than zero if <em>s1</em> comes before
<em>s2</em>, greater than zero if <em>s1</em> comes after
<em>s2</em>, and zero if <em>s1</em> and <em>s2</em> are
equivalent.</div>
<h3>see also:</h3>
<ul>
<li><a href=
"lua-glib.html#utf8_collate_key">utf8_collate_key</a></li>
<li><a href=
"lua-glib.html#utf8_collate_key_for_filename">utf8_collate_key_for_filename</a></li>
</ul>
</dd>
<dt><a name="utf8_collate_key" id="utf8_collate_key"></a>
<strong>utf8_collate_key&nbsp;(s)</strong></dt>
<dd>Create a comparison key for a UTF-8 string. This is a wrapper
for <code>g_utf8_collate_key()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> A form
of the string which can be compared using direct string comparison
rather than utf8_collate.</div>
<h3>see also:</h3>
<ul>
<li><a href="lua-glib.html#utf8_collate">utf8_collate</a></li>
<li><a href=
"lua-glib.html#utf8_collate_key_for_filename">utf8_collate_key_for_filename</a></li>
</ul>
</dd>
<dt><a name="utf8_collate_key_for_filename" id=
"utf8_collate_key_for_filename"></a>
<strong>utf8_collate_key_for_filename&nbsp;(s)</strong></dt>
<dd>Create a comparison key for a UTF-8 filename string. This is a
wrapper for <code>g_collate_key_for_filename()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> A form
of the string which can be compared using direct string comparison.
Dots and numeric sequences are treated differently. There is no
equivalent <code>utf8_collate_filename()</code>.</div>
<h3>see also:</h3>
<ul>
<li><a href="lua-glib.html#utf8_collate">utf8_collate</a></li>
<li><a href=
"lua-glib.html#utf8_collate_key">utf8_collate_key</a></li>
</ul>
</dd>
<dt><a name="utf8_to_utf16" id="utf8_to_utf16"></a>
<strong>utf8_to_utf16&nbsp;(s)</strong></dt>
<dd>Convert a UTF-8 string to UTF-16. This is a wrapper for
<code>g_utf8_to_utf16()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
source string</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
<em>s</em>, converted to UTF-16</div>
<h3>Raises:</h3>
Returns <code>nil</code> followed by an error message if <em>s</em>
is not valid UTF-8.</dd>
<dt><a name="utf8_to_ucs4" id="utf8_to_ucs4"></a>
<strong>utf8_to_ucs4&nbsp;(s)</strong></dt>
<dd>Convert a UTF-8 string to UCS-4. This is a wrapper for
<code>g_utf8_to_ucs4()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
source string</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
<em>s</em>, converted to UCS-4</div>
<h3>Raises:</h3>
Returns <code>nil</code> followed by an error message if <em>s</em>
is not valid UTF-8.</dd>
<dt><a name="utf16_to_utf8" id="utf16_to_utf8"></a>
<strong>utf16_to_utf8&nbsp;(s)</strong></dt>
<dd>Convert a UTF-16 string to UTF-8. This is a wrapper for
<code>g_utf16_to_utf8()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
source string</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
<em>s</em>, converted to UTF-8</div>
<h3>Raises:</h3>
Returns <code>nil</code> followed by an error message if <em>s</em>
is not valid UTF-16.</dd>
<dt><a name="utf16_to_ucs4" id="utf16_to_ucs4"></a>
<strong>utf16_to_ucs4&nbsp;(s)</strong></dt>
<dd>Convert a UTF-16 string to UCS-4. This is a wrapper for
<code>g_utf16_to_ucs4()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
source string</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
<em>s</em>, converted to UCS-4</div>
<h3>Raises:</h3>
Returns <code>nil</code> followed by an error message if <em>s</em>
is not valid UTF-16.</dd>
<dt><a name="ucs4_to_utf16" id="ucs4_to_utf16"></a>
<strong>ucs4_to_utf16&nbsp;(s)</strong></dt>
<dd>Convert a UCS-4 string to UTF-16. This is a wrapper for
<code>g_utf8_to_utf16()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
source string</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
<em>s</em>, converted to UTF-16</div>
<h3>Raises:</h3>
Returns <code>nil</code> followed by an error message if <em>s</em>
is not valid UCS-4.</dd>
<dt><a name="ucs4_to_utf8" id="ucs4_to_utf8"></a>
<strong>ucs4_to_utf8&nbsp;(s)</strong></dt>
<dd>Convert a UCS-4 string to UTF-8. This is a wrapper for
<code>g_utf16_to_utf8()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
source string</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
<em>s</em>, converted to UTF-8</div>
<h3>Raises:</h3>
Returns <code>nil</code> followed by an error message if <em>s</em>
is not valid UCS-4.</dd>
<dt><a name="to_utf8" id="to_utf8"></a>
<strong>to_utf8&nbsp;(c)</strong></dt>
<dd>Convert a UCS-4 code point to UTF-8. This is a wrapper for
<code>g_unichar_to_utf8()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The Unicode character, as either an
integer or a utf-8 string.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> A UTF-8
string representing <em>c</em>. Note that this basically has no
effect if <em>c</em> is a single-character string already.</div>
<h3>Raises:</h3>
Generates argument error if <em>c</em> is a string but not valid
UTF-8.</dd>
</dl>
<h2><a name="Base___Encoding" id="Base___Encoding"></a>Base64
Encoding</h2>
<dl class="function">
<dt><a name="_base64_encode_" id="_base64_encode_"></a>
<strong>_base64_encode_&nbsp;([s])</strong></dt>
<dd>Stream Base64-encoding function returned by <a href=
"lua-glib.html#base64_encode">base64_encode</a> . This function is
returned by <a href="lua-glib.html#base64_encode">base64_encode</a>
to support piecewise-encoding streams. Simply call with string
arguments, accumulating the returned strings. When finished with
the stream, call with no arguments. This will return the final
string to append and reset the stream for reuse.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The next
piece of the string to convert; absent to finish conversion</li>
</ul>
<h3>Usage:</h3>
<div style="margin-left: 2em">
<pre class="example">enc = glib.base64_encode()
while true do
  buf = inf:read(4096)
  if not buf then break end
  outf:write(enc(buf))
end
outf:write(enc())</pre></div>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The next
piece of the converted string</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#base64_encode">base64_encode</a></div>
</dd>
<dt><a name="base64_encode" id="base64_encode"></a>
<strong>base64_encode&nbsp;([s])</strong></dt>
<dd>Base64-encode a string. This is a wrapper for
<code>g_base64_encode()</code> and friends.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The data
to encode. If absent, return a function like <a href=
"lua-glib.html#_base64_encode_">_base64_encode_</a> for encoding a
stream.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>function</strong> The base64-encoded stream (without
newlines), or a function to do the same on a stream.</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#_base64_encode_">_base64_encode_</a></div>
</dd>
<dt><a name="_base64_decode_" id="_base64_decode_"></a>
<strong>_base64_decode_&nbsp;([s])</strong></dt>
<dd>Stream Base64-decoding function returned by <a href=
"lua-glib.html#base64_decode">base64_decode</a> . This function is
returned by <a href="lua-glib.html#base64_decode">base64_decode</a>
to support piecewise-decoding streams. Simply call with string
arguments, accumulating the returned strings. When finished with
the stream, call with no arguments. This will return the final
string to append and reset the stream for reuse.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The next
piece of the string to convert; absent to finish conversion</li>
</ul>
<h3>Usage:</h3>
<div style="margin-left: 2em">
<pre class="example">dec = glib.base64_decode()
while true do
  buf = inf:read(4096)
  if not buf then break end
  outf:write(dec(buf))
end
outf:write(dec())</pre></div>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The next
piece of the converted output</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#base64_decode">base64_decode</a></div>
</dd>
<dt><a name="base64_decode" id="base64_decode"></a>
<strong>base64_decode&nbsp;([s])</strong></dt>
<dd>Base64-decode a string. This is a wrapper for
<code>g_base64_deocde()</code> and friends.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The data
to decode. If absent, return a function like <em>base64_decode</em>
for decoding a stream.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>function</strong> The decoded form of the base64-encoded
stream, or a function to do the same on a stream.</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#_base64_decode_">_base64_decode_</a></div>
</dd>
</dl>
<h2><a name="Data_Checksums" id="Data_Checksums"></a>Data
Checksums</h2>
<dl class="function">
<dt><a name="_sum_" id="_sum_"></a> <strong>_sum_&nbsp;([s][,
raw])</strong></dt>
<dd>Stream checksum/hash calculation function type. This function
is returned by <a href="lua-glib.html#md5sum">md5sum</a> , <a href=
"lua-glib.html#sha1sum">sha1sum</a> , or <a href=
"lua-glib.html#sha256sum">sha256sum</a> to support computing stream
checksums piecewise. Simply call with string arguments, until the
stream is complete. Then, call with an absent or <code>nil</code>
argument to return the final checksum. Doing so invalidates the
state, so that the function returns an error from that point
forward.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The next
piece of the string to checksum; absent or <code>nil</code> to
finish checksum</li>
<li><code><em>raw</em></code>: <strong>boolean</strong> True if
checksum should be returned in binary form. Otherwise, return the
lower-case hexadecimal-encoded form (ignored if <em>s</em> is not
<code>nil</code>)</li>
</ul>
<h3>Usage:</h3>
<div style="margin-left: 2em">
<pre class="example">sumf = glib.md5sum()
while true do
  buf = inf:read(4096)
  if not buf then break end
  sumf(buf)
end
sum = sumf()</pre></div>
<h3>Returns:</h3>
<div style="margin-left: 2em">|<strong>nil</strong> |<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> Nothing
unless <em>s</em> is absent or <code>nil</code>. Otherwise, return
the computed checksum.</div>
<h3>Raises:</h3>
If the state is invalid, always return <code>nil</code>.
<h3>see also:</h3>
<ul>
<li><a href="lua-glib.html#md5sum">md5sum</a></li>
<li><a href="lua-glib.html#sha1sum">sha1sum</a></li>
<li><a href="lua-glib.html#sha256sum">sha256sum</a></li>
</ul>
</dd>
<dt><a name="md5sum" id="md5sum"></a> <strong>md5sum&nbsp;([s[,
raw]])</strong></dt>
<dd>Compute MD5 checksum of a string. This is a wrapper for
<code>g_checksum_new()</code> and friends.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The data
to checksum. If absent, return a function like <a href=
"lua-glib.html#_sum_">_sum_</a> to checksum a stream
piecewise.</li>
<li><code><em>raw</em></code>: <strong>boolean</strong> True if
checksum should be returned in binary form. Otherwise, return the
lower-case hexadecimal-encoded form (ignored if <em>s</em> is
<code>nil</code>)</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>function</strong> The MD5 checksum or a stream converter
function.</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#_sum_">_sum_</a></div>
</dd>
<dt><a name="sha1sum" id="sha1sum"></a> <strong>sha1sum&nbsp;([s[,
raw]])</strong></dt>
<dd>Compute SHA1 checksum of a string. This is a wrapper for
<code>g_checksum_new()</code> and friends.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The data
to checksum. If absent, return a function like <a href=
"lua-glib.html#_sum_">_sum_</a> to checksum a stream
piecewise.</li>
<li><code><em>raw</em></code>: <strong>boolean</strong> True if
checksum should be returned in binary form. Otherwise, return the
lower-case hexadecimal-encoded form (ignored if <em>s</em> is
<code>nil</code>)</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>function</strong> The SHA1 checksum or a stream converter
function.</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#_sum_">_sum_</a></div>
</dd>
<dt><a name="sha256sum" id="sha256sum"></a>
<strong>sha256sum&nbsp;([s[, raw]])</strong></dt>
<dd>Compute SHA256 checksum of a string. This is a wrapper for
<code>g_checksum_new()</code> and friends.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The data
to checksum. If absent, return a function like <a href=
"lua-glib.html#_sum_">_sum_</a> to checksum a stream
piecewise.</li>
<li><code><em>raw</em></code>: <strong>boolean</strong> True if
checksum should be returned in binary form. Otherwise, return the
lower-case hexadecimal-encoded form (ignored if <em>s</em> is
<code>nil</code>)</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>function</strong> The SHA256 checksum or a stream
converter function.</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#_sum_">_sum_</a></div>
</dd>
</dl>
<h2><a name="Secure_HMAC_Digests" id=
"Secure_HMAC_Digests"></a>Secure HMAC Digests</h2>
<dl class="function">
<dt><a name="_hmac_" id="_hmac_"></a> <strong>_hmac_&nbsp;([s][,
raw])</strong></dt>
<dd>Stream HMAC calculation function. This function is returned by
<a href="lua-glib.html#md5hmac">md5hmac</a> , <a href=
"lua-glib.html#sha1hmac">sha1hmac</a> , or <a href=
"lua-glib.html#sha256hmac">sha256hmac</a> to support computing
stream digests piecewise. Simply call with string arguments, until
the stream is complete. Then, call with an absent or
<code>nil</code> argument to return the final digest. Doing so
invalidates the state, so that the function returns an error from
that point forward.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The next
piece of the string to digest; absent or <code>nil</code> to finish
digest</li>
<li><code><em>raw</em></code>: <strong>boolean</strong> True if
digest should be returned in binary form. Otherwise, return the
lower-case hexadecimal-encoded form (ignored if <em>s</em> is not
<code>nil</code>)</li>
</ul>
<h3>Usage:</h3>
<div style="margin-left: 2em">
<pre class="example">hmacf = glib.md5hmac(key)
while true do
  buf = inf:read(4096)
  if not buf then break end
  hmacf(buf)
end
hmac = hmacf()</pre></div>
<h3>Returns:</h3>
<div style="margin-left: 2em">|<strong>nil</strong> |<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> Nothing
unless <em>s</em> is absent or <code>nil</code>. Otherwise, return
the computed digest.</div>
<h3>Raises:</h3>
If the state is invalid, always return <code>nil</code>.
<h3>see also:</h3>
<ul>
<li><a href="lua-glib.html#md5hmac">md5hmac</a></li>
<li><a href="lua-glib.html#sha1hmac">sha1hmac</a></li>
<li><a href="lua-glib.html#sha256hmac">sha256hmac</a></li>
</ul>
</dd>
<dt><a name="md5hmac" id="md5hmac"></a> <strong>md5hmac&nbsp;(key[,
s[, raw]])</strong></dt>
<dd>Compute secure HMAC digest using MD5. This is a wrapper for
<code>g_hmac_new()</code> and friends.
<p>This is only available with GLib 2.30 or later.</p>
<h3>Parameters:</h3>
<ul>
<li><code><em>key</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> HMAC
key</li>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The data
to digest. If absent, return a function like <a href=
"lua-glib.html#_hmac_">_hmac_</a> to digest a stream
piecewise.</li>
<li><code><em>raw</em></code>: <strong>boolean</strong> True if
digest should be returned in binary form. Otherwise, return the
lower-case hexadecimal-encoded form (ignored if <em>s</em> is
<code>nil</code>)</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>function</strong> The MD5 HMAC digest or a stream
converter function.</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#_hmac_">_hmac_</a></div>
</dd>
<dt><a name="sha1hmac" id="sha1hmac"></a>
<strong>sha1hmac&nbsp;(key[, s[, raw]])</strong></dt>
<dd>Compute secure HMAC digest using SHA1. This is a wrapper for
<code>g_hmac_new()</code> and friends.
<p>This is only available with GLib 2.30 or later.</p>
<h3>Parameters:</h3>
<ul>
<li><code><em>key</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> HMAC
key</li>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The data
to digest. If absent, return a function like <a href=
"lua-glib.html#_hmac_">_hmac_</a> to digest a stream
piecewise.</li>
<li><code><em>raw</em></code>: <strong>boolean</strong> True if
digest should be returned in binary form. Otherwise, return the
lower-case hexadecimal-encoded form (ignored if <em>s</em> is
<code>nil</code>)</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>function</strong> The SHA1 HMAC digest or a stream
converter function.</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#_hmac_">_hmac_</a></div>
</dd>
<dt><a name="sha256hmac" id="sha256hmac"></a>
<strong>sha256hmac&nbsp;(key[, s[, raw]])</strong></dt>
<dd>Compute secure HMAC digest using SHA256. This is a wrapper for
<code>g_hmac_new()</code> and friends.
<p>This is only available with GLib 2.30 or later.</p>
<h3>Parameters:</h3>
<ul>
<li><code><em>key</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> HMAC
key</li>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The data
to digest. If absent, return a function like <a href=
"lua-glib.html#_hmac_">_hmac_</a> to digest a stream
piecewise.</li>
<li><code><em>raw</em></code>: <strong>boolean</strong> True if
digest should be returned in binary form. Otherwise, return the
lower-case hexadecimal-encoded form (ignored if <em>s</em> is
<code>nil</code>)</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>function</strong> The SHA256 HMAC digest or a stream
converter function.</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#_hmac_">_hmac_</a></div>
</dd>
</dl>
<h2><a name="Internationalization" id=
"Internationalization"></a>Internationalization</h2>
Note that in general, you will need to use <a href=
"http://www.lua.org/manual/5.1/manual.html#pdf-os.setlocale">os.setlocale</a>
and <a href="lua-glib.html#textdomain">textdomain</a> to initialize
this. For example, for the application myapp, with locale files
under the current directory:
<pre><code>os.setlocale("")
glib.textdomain("myapp", glib.get_current_dir())
</code></pre>
<p>To extract messages from Lua files using these functions, the
following command can be used (may require recent gettext to
support -k:g and lua):</p>
<pre>
<code>xgettext -L lua -kQ_:1g -kC_:1c,2 -kNC_:1c,2 -kN_ -kglib.ngettext:1,2 \
         -ofile.po file.lua
</code></pre>
<p>to produce <code>file.po</code> from <code>file.lua</code>.</p>
<dl class="function">
<dt><a name="textdomain" id="textdomain"></a>
<strong>textdomain&nbsp;([domain[, path[,
encoding]]])</strong></dt>
<dd>Set or query text message database location. Before this
function is called, a default message database is used. This sets
or queries the domain (also known as package or application) name,
and optionally sets or queries the domain’s physical file system
location. It may also be used to set the encoding of output
messages if not the default for the locale. Note that none of the
exported translation functions take a domain name parameter, so
this function may need to be called before every translation from a
different domain.
<h3>Parameters:</h3>
<ul>
<li><code><em>domain</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>nil</strong> The domain to use for subsequent translation
calls. If <code>nil</code> or missing, no change is made.</li>
<li><code><em>path</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>nil</strong> The path to message files, if not the system
default. If <code>nil</code> or missing, no change is made.</li>
<li><code><em>encoding</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>nil</strong> The encoding of translation output. If
<code>nil</code> or missing, no change is made.</li>
</ul>
<h3>Returns:</h3>
<ol>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
current (new if set) domain for future translations.</li>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The path
to the translation strings for the current domain.</li>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
encoding used for output messages. If <code>nil</code>, the
locale’s default is used.</li>
</ol>
</dd>
<dt><a name="_" id="_"></a> <strong>_&nbsp;(s)</strong></dt>
<dd>Replace text with its translation. This is a wrapper for
<code>_()</code>. It resides in the global symbol table rather than
in <a href="lua-glib.html#">glib</a> .
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The text
to translate</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
translated text, or <em>s</em> if there is no translation</div>
</dd>
<dt><a name="Q_" id="Q_"></a> <strong>Q_&nbsp;(s)</strong></dt>
<dd>Replace text and context with its translation. This is a
wrapper for <code>Q_()</code>. It resides in the global symbol
table rather than in <a href="lua-glib.html#">glib</a> .
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> the
optional context, followed by a vertical bar, followed by the text
to translate</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
translated text, or <em>s</em> with its context stripped if there
is no translation</div>
</dd>
<dt><a name="C_" id="C_"></a> <strong>C_&nbsp;(c, s)</strong></dt>
<dd>Replace text and context with its translation. This is a
wrapper for <code>C_()</code>. It resides in the global symbol
table rather than in <a href="lua-glib.html#">glib</a> .
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
context</li>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The text
to translate</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
translated text, or <em>s</em> if there is no translation</div>
</dd>
<dt><a name="N_" id="N_"></a> <strong>N_&nbsp;(s)</strong></dt>
<dd>Mark text for translation. This is a wrapper for
<code>N_()</code>. It resides in the global symbol table rather
than in <a href="lua-glib.html#">glib</a> .
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The text
to translate</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
<em>s</em></div>
</dd>
<dt><a name="NC_" id="NC_"></a> <strong>NC_&nbsp;(c,
s)</strong></dt>
<dd>Mark text for translation with context. This is a wrapper for
<code>NC_()</code>. It resides in the global symbol table rather
than in <a href="lua-glib.html#">glib</a> .
<h3>Parameters:</h3>
<ul>
<li><code><em>c</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
context</li>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The text
to translate.</li>
</ul>
<h3>Returns:</h3>
<ol>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
<em>s</em></li>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
<em>c</em></li>
</ol>
</dd>
<dt><a name="ngettext" id="ngettext"></a>
<strong>ngettext&nbsp;(singular, plural, n)</strong></dt>
<dd>Replace text with its number-appropriate translation. This is a
wrapper for <code>g_dngettext()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>singular</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The text
to translate if <em>n</em> is 1</li>
<li><code><em>plural</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The text
to translate if <em>n</em> is not 1</li>
<li><code><em>n</em></code>: <strong>number</strong> The number of
items being translated</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
translated text, or <em>singular</em> if there is no translation
and <em>n</em> is 1, or <em>plural</em> if there is no translation
and <em>n</em> is not 1.</div>
</dd>
<dt><a name="get_locale_variants" id="get_locale_variants"></a>
<strong>get_locale_variants&nbsp;([locale])</strong></dt>
<dd>Obtain list of valid locale names. This is a wrapper for
<code>g_get_locale_variants()</code> and
<code>g_get_language_names()</code>.
<p>This is only available with GLib 2.28 or later.</p>
<h3>Parameters:</h3>
<ul>
<li><code><em>locale</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> If
present, find valid locale names derived from this. Otherwise, find
valid names for the default locale (including C).</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em">{<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}A
table array containing valid names for the locale, in order of
preference.</div>
</dd>
</dl>
<h2><a name="Date_and_Time_Functions" id=
"Date_and_Time_Functions"></a>Date and Time Functions</h2>
<dl class="function">
<dt><a name="sleep" id="sleep"></a>
<strong>sleep&nbsp;(t)</strong></dt>
<dd>Suspend execution for some seconds. This is a wrapper for
<code>g_usleep()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>t</em></code>: <strong>number</strong> Number of
seconds to sleep (microsecond accuracy)</li>
</ul>
</dd>
<dt><a name="usleep" id="usleep"></a>
<strong>usleep&nbsp;(t)</strong></dt>
<dd>Suspend execution for some microseconds. This is a wrapper for
<code>g_usleep()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>t</em></code>: <strong>number</strong> Number of
microseconds to sleep</li>
</ul>
</dd>
</dl>
<h2><a name="Random_Numbers" id="Random_Numbers"></a>Random
Numbers</h2>
<p>Note that no high-level wrapper functions are provided similar
to those in cmorris' glib wrapper. Instead, pure Lua functions
should be used:</p>
<pre><code>function shuffle(a)
    local i
    for i = 1, #a do
        local r = glib.random(#a)
        local t = a[i]
        a[i] = a[r]
        a[r] = t
    end
end

function choice(a)
    if #a == 0 then
        return nil
    end
    return a[glib.random(#a)];
end

function sample(a, n)
    local b = {}
    local s = {}
    local i
    for i = 1, n do
        -- warning, this could take a while if n is near #a
        repeat
            r = glib.random(#a)
            -- to force this to run in predictable time, do this:
            -- while not b[r] do r = r % #a + 1 end
        until not b[r]
        b[r] = true
        s[i] = a[r]
    end
    return s
end
</code></pre>
<dl class="function">
<dt><a name="random" id="random"></a> <strong>random&nbsp;([low[,
high]])</strong></dt>
<dd>Obtain a psuedorandom number. This is a wrapper for
<code>g_random()</code> and friends. This is a clone of the
standard Lua <a href=
"http://www.lua.org/manual/5.1/manual.html#pdf-math.random">math.random</a>
, but using a different random number algorithm. Note that there is
no way to set the seed; use <a href=
"lua-glib.html#rand_new">rand_new</a> if you need to do that. In
fact, you can simply replace <a href=
"lua-glib.html#random">random</a> with the results of <a href=
"lua-glib.html#rand_new">rand_new</a> if you want to simulate
setting a seed for this function.
<h3>Parameters:</h3>
<ul>
<li><code><em>low</em></code>: <strong>number</strong> If
<em>high</em> is present, this is the low end of the range of
random integers to return</li>
<li><code><em>high</em></code>: <strong>number</strong> If present,
return a range of random integers, from <em>low</em> to
<em>high</em> inclusive. If not present, return a floating point
number in the range from zero to one exclusive of one. If
<em>low</em> is not present, and <em>high</em> is, <em>low</em> is
1.</li>
</ul>
<h3>Usage:</h3>
<div style="margin-left: 2em">
<pre class="example">-- set a seed for glib.random
glib.random = glib.rand_new(seed)</pre></div>
<h3>see also:</h3>
<ul>
<li><a href="lua-glib.html#rand_new">rand_new</a></li>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#pdf-math.random">math.random</a></li>
</ul>
</dd>
<dt><a name="rand_new" id="rand_new"></a>
<strong>rand_new&nbsp;([seed])</strong></dt>
<dd>Obtain a psuedorandom number generator, given a seed. This is a
wrapper for <code>g_rand_new()</code> and friends.
<h3>Parameters:</h3>
<ul>
<li><code><em>seed</em></code>: <strong>number</strong>
|{<strong>number</strong> ,...} seed (if not specified, one will be
selected by the library). This may be either a number or a table
array of numbers.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>function</strong> A function
with the same behavior as <a href="lua-glib.html#random">random</a>
.</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#random">random</a></div>
</dd>
</dl>
<h2><a name="Miscellaneous_Utility_Functions" id=
"Miscellaneous_Utility_Functions"></a>Miscellaneous Utility
Functions</h2>
<dl class="function">
<dt><a name="application_name" id="application_name"></a>
<strong>application_name&nbsp;([name])</strong></dt>
<dd>Set or get localized application name. This is a wrapper for
<code>g_get_application_name()</code> and friends.
<h3>Parameters:</h3>
<ul>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> If
present, set the application name</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The name
of the application, as set by a previous invocation of this
function.</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#prgname">prgname</a></div>
</dd>
<dt><a name="prgname" id="prgname"></a>
<strong>prgname&nbsp;([name])</strong></dt>
<dd>Set or get program name. This is a wrapper for
<code>g_get_prgname()</code> and friends.
<h3>Parameters:</h3>
<ul>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> If
present, set the program name</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The name
of the program, as set by a previous invocation of this
function.</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#application_name">application_name</a></div>
</dd>
<dt><a name="getenv" id="getenv"></a>
<strong>getenv&nbsp;(name)</strong></dt>
<dd>Get environment variable value. This is a wrapper for
<code>g_getenv()</code>. It is safer to use this than <a href=
"http://www.lua.org/manual/5.1/manual.html#pdf-os.getenv">os.getenv</a>
if you are going to modify the environment.
<h3>Parameters:</h3>
<ul>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> Name of
environment variable to retrieve</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> Value of
variable (string) if present; otherwise nil</div>
<h3>see also:</h3>
<ul>
<li><a href="lua-glib.html#setenv">setenv</a></li>
<li><a href="lua-glib.html#unsetenv">unsetenv</a></li>
</ul>
</dd>
<dt><a name="setenv" id="setenv"></a> <strong>setenv&nbsp;(name,
value[, replace])</strong></dt>
<dd>Set environment variable value. This is a wrapper for
<code>g_setenv()</code>. If you use this, you should use <a href=
"lua-glib.html#getenv">glib.getenv</a> instead of <a href=
"http://www.lua.org/manual/5.1/manual.html#pdf-os.getenv">os.getenv</a>
as well.
<h3>Parameters:</h3>
<ul>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> Name of
variable to set</li>
<li><code><em>value</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> New
value of variable</li>
<li><code><em>replace</em></code>: <strong>boolean</strong> True to
replace if exists; otherwise leave old value</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if set
succeeded; false otherwise</div>
<h3>see also:</h3>
<ul>
<li><a href="lua-glib.html#getenv">getenv</a></li>
<li><a href="lua-glib.html#unsetenv">unsetenv</a></li>
</ul>
</dd>
<dt><a name="unsetenv" id="unsetenv"></a>
<strong>unsetenv&nbsp;(name)</strong></dt>
<dd>Remove environment variable. This is a wrapper for
<code>g_unsetenv()</code>. If you use this, you should use <a href=
"lua-glib.html#getenv">glib.getenv</a> instead of <a href=
"http://www.lua.org/manual/5.1/manual.html#pdf-os.getenv">os.getenv</a>
as well.
<h3>Parameters:</h3>
<ul>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> Name of
variable to remove from environment</li>
</ul>
<h3>see also:</h3>
<ul>
<li><a href="lua-glib.html#getenv">getenv</a></li>
<li><a href="lua-glib.html#setenv">setenv</a></li>
</ul>
</dd>
<dt><a name="listenv" id="listenv"></a>
<strong>listenv&nbsp;()</strong></dt>
<dd>Obtain names of all environment variables. This is a wrapper
for <code>g_listenv()</code>.
<h3>Returns:</h3>
<div style="margin-left: 2em">{<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}An
array table whose entries are environment variable names</div>
</dd>
<dt><a name="get_user_name" id="get_user_name"></a>
<strong>get_user_name&nbsp;()</strong></dt>
<dd>Obtain system user name for current user. This is a wrapper for
<code>g_get_user_name()</code>.
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The name
of the user</div>
</dd>
<dt><a name="get_real_name" id="get_real_name"></a>
<strong>get_real_name&nbsp;()</strong></dt>
<dd>Obtain full user name for current user. This is a wrapper for
<code>g_get_real_name()</code>.
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The full
name of the user, or Unknown if this cannot be obtained.</div>
</dd>
<dt><a name="get_dir_name" id="get_dir_name"></a>
<strong>get_dir_name&nbsp;(d)</strong></dt>
<dd>Obtain a standard directory name. This is a wrapper for
<code>g_get_*_dir()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>d</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
directory to obtain; one of <code>cache</code>,
<code>config</code>, <code>data</code>, <code>desktop</code>,
<code>documents</code>, <code>download</code>, <code>home</code>,
<code>music</code>, <code>pictures</code>, <code>runtime</code>,
<code>share</code>, <code>system_config</code>,
<code>system_data</code>, <code>templates</code>, <code>tmp</code>,
<code>videos</code>, <code>list</code>. <code>list</code> just
returns this list of names.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|{<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}The
directory (a string) if there can be only one; if there can be more
than one, the list of directories is returned as a table array of
strings. Currently, only <code>list</code>,
<code>system_data</code>, and <code>system_config</code> return
more than one.</div>
<h3>Raises:</h3>
If there is no standard directory of the given kind, returns
<code>nil</code>.</dd>
<dt><a name="get_host_name" id="get_host_name"></a>
<strong>get_host_name&nbsp;()</strong></dt>
<dd>Obtain current host name. This is a wrapper for
<code>g_get_host_name()</code>.
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
local host name. This is not guaranteed to be a unique identifier
for the host, or in any way related to its DNS entry.</div>
</dd>
<dt><a name="get_current_dir" id="get_current_dir"></a>
<strong>get_current_dir&nbsp;()</strong></dt>
<dd>Obtain current working directory. This is a wrapper for
<code>g_get_current_dir()</code>.
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
current working directory, as an absolute path.</div>
</dd>
<dt><a name="path_is_absolute" id="path_is_absolute"></a>
<strong>path_is_absolute&nbsp;(d)</strong></dt>
<dd>Check if a directory is absolute. This is a wrapper for
<code>g_path_is_absolute()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>d</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
directory to check</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if d is
absolute; false otherwise.</div>
</dd>
<dt><a name="path_split_root" id="path_split_root"></a>
<strong>path_split_root&nbsp;(d)</strong></dt>
<dd>Split the root part from a path. This is a wrapper for
<code>g_path_skip_root()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>d</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The path
to split</li>
</ul>
<h3>Returns:</h3>
<ol>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>nil</strong> The root part. If the path is not absolute,
this will be <code>nil</code>.</li>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
non-root part</li>
</ol>
</dd>
<dt><a name="path_get_basename" id="path_get_basename"></a>
<strong>path_get_basename&nbsp;(d)</strong></dt>
<dd>Obtain the last element of a path. This is a wrapper for
<code>g_path_get_basename()</code>. Note that if the last element
of a path is blank, this may return the second-to-last element.
Also, if this is simply a directory separator, the directory
separator is returned. In other words, it is not possible to
reconstruct the original file name by appending results from this
function.
<h3>Parameters:</h3>
<ul>
<li><code><em>d</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The path
to split</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The last
path element of the path</div>
</dd>
<dt><a name="path_get_dirname" id="path_get_dirname"></a>
<strong>path_get_dirname&nbsp;(d)</strong></dt>
<dd>Obtain all but the last element of a path. This is a wrapper
for <code>g_path_dirname()</code>. Note that if there is no parent
element, and the path is relative, . may be returned. If the path
is absolute, the absolute prefix may be returned even if it is the
only element present. If there is a terminating directory
separator, this may return the same path element as <a href=
"lua-glib.html#path_get_basename">path_get_basename</a> .
<h3>Parameters:</h3>
<ul>
<li><code><em>d</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The path
to split</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> All but
the last element of the path.</div>
</dd>
<dt><a name="build_filename" id="build_filename"></a>
<strong>build_filename&nbsp;(...)</strong></dt>
<dd>
<p>Construct a file name from its path constituents. This is a
wrapper for <code>g_build_filenamev()</code>. There is no inverse
operation, but it can be implemented in Lua:</p>
<pre>
<code>-- assumes multiple consecutive directory separators are the same as
-- just one separator (true on non-root in Windows and everywhere in UNIX)
-- but as a counterexample, AmigaOS has no . and .., but instead uses
-- blank to mean both:
--    "" == UNIX .  "/x" == ../x "x///y" == UNIX x/../../y
function split_filename(f)
    local res = {}
    local r
    r, f = glib.path_split_root(f)
    -- note: it may be a good idea to trim r as well:
    --  convert ^[dir_sep]+$ to dir_sep[0] (strip duplicate dir_sep)
    --  convert ^([^dir_sep].*?)[dir_sep]*$ to \1 (stip trailing dir_sep)
    local rx = glib.regex_new('[' .. glib.regex_escape_string(glib.dir_separator) .. ']')
    local i, e, laste
    for i, e in ipairs(rx:split(f)) do
        if e ~= '' then table.insert(res, e) end
        laste = e
    end
    if laste == '' then table.insert(res, '') end
end
</code></pre>
<h3>Parameters:</h3>
<ul>
<li><code><em>...</em></code>: {<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
,...}|<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,... If
the first parameter is a table, this table contains a list of path
element strings. Otherwise, all parameters are taken to be the path
element strings.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
result of concatenating all supplied path elements, separated by at
most one directory separator as appropriate.</div>
</dd>
<dt><a name="build_path" id="build_path"></a>
<strong>build_path&nbsp;(sep, ...)</strong></dt>
<dd>
<p>Construct a path from its constituents. This is a wrapper for
<code>g_build_pathv()</code>. Note that blank elements are simply
ignored. If blank elements are required, use Lua instead:</p>
<pre><code>function build_path(sep, ...)
    local i, v
    local ret = ''
     for i, v in ipairs{...} do
       if i &gt; 1 then ret = ret .. sep end
       ret = ret .. v
     end
end
</code></pre>
<p>Also, there is no inverse function. This can be emulated using
<a href="lua-glib.html#regex:split">regex:split</a> :</p>
<pre><code>function split_path(p, sep)
   local rx = glib.regex_new(glib.regex_escape_string(sep))
   return rx:split(p)
end
</code></pre>
<h3>Parameters:</h3>
<ul>
<li><code><em>sep</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The path
element separator</li>
<li><code><em>...</em></code>: {<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
,...}|<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,... If
the first parameter is a table, this table contains a list of path
element strings. Otherwise, all parameters are taken to be the path
element strings.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
result of concatenating all supplied path elements, separated by at
most one path separator.</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#build_filename">build_filename</a></div>
</dd>
<dt><a name="path_canonicalize" id="path_canonicalize"></a>
<strong>path_canonicalize&nbsp;(f)</strong></dt>
<dd>Canonicalize a path name. This does not wrap anything in GLib,
as GLib does not provide such a function. This function converts a
path name to an absolute path name with all relative path
references (i.e., . and ..) removed and symbolic links resolved.
Additional steps are taken on Windows in an attempt to resolve the
myriad of ways a path name may be specified, including
short-to-long name conversion, case normalization (for path
elements which exist), and UNC format consolidation. Note that
there are several unresolvable issues: On Windows, there may be
host names in the path, which are hard to resolve even with DNS.
Also, both Windows and UNIX might have the same path mounted in two
different places, and sometimes it’s hard to tell that they are the
same (and no extra effort is put into checking, either).
<h3>Parameters:</h3>
<ul>
<li><code><em>f</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The file
name</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
canonicalized file name. Note that on Windows, the canonical name
always uses backslashes for directory separators.</div>
<h3>Raises:</h3>
Returns <code>nil</code> followed by an error message if there is a
problem</dd>
<dt><a name="qsort" id="qsort"></a> <strong>qsort&nbsp;(t[,
cmp])</strong></dt>
<dd>Sort a table using a stable quicksort algorithm. This is a
wrapper for <code>g_qsort_with_data()</code>. This sorts a table
in-place the same way as <a href=
"http://www.lua.org/manual/5.1/manual.html#pdf-table.sort">table.sort</a>
does, but it performs an extra comparison if necessary to determine
of two elements are equal (i.e., <em>cmp</em>(a, b) ==
<em>cmp</em>(b, a) == false). If so, they are sorted in the order
they appeared in the original table. The extra comparison can be
avoided by returning a number instead of a boolean from the
comparison function; in this case, the number’s relationship with 0
indicates a’s relationship with b.
<h3>Parameters:</h3>
<ul>
<li><code><em>t</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.5">table</a> Table to
sort</li>
<li><code><em>cmp</em></code>: <strong>function</strong> Function
to use for comparison; takes two table elements and returns true if
the first is less than the second. If not specified, Lua’s standard
less-than operator is used. The function may also return an integer
instead of a boolean, in which case the number must be 0, less than
0, or greater than 0, indicating a is equal to, less than, or
greater than b, respectively.</li>
</ul>
<h3>see also:</h3>
<ul>
<li><a href="lua-glib.html#utf8_collate">utf8_collate</a></li>
<li><a href="lua-glib.html#cmp">cmp</a></li>
</ul>
</dd>
<dt><a name="cmp" id="cmp"></a> <strong>cmp&nbsp;(a,
b)</strong></dt>
<dd>Compare two objects. This function returns the difference
between two objects. If the <em>sub</em> operation is available in
the first object’s metatable, that is called. Otherwise, if both
parameters are numbers, they are subtracted. Otherwise, if they are
both strings, they are byte-wise compared and their relative order
is returned. Finally, as a last resort, the standard less-than
operator is used, possibly twice, to indicate relative order.
<h3>Parameters:</h3>
<ul>
<li><code><em>a</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The first object</li>
<li><code><em>b</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The second object</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>integer</strong> Greater than
zero if <em>a</em> is greater than <em>b</em>; less than zero if
<em>a</em> is less than <em>b</em>; zero if <em>a</em> is equal to
<em>b</em>.</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#utf8_collate">utf8_collate</a></div>
</dd>
</dl>
<h2><a name="Timers" id="Timers"></a>Timers</h2>
<dl class="function">
<dt><a name="timer_new" id="timer_new"></a>
<strong>timer_new&nbsp;()</strong></dt>
<dd>Create a stopwatch-like timer. This is a wrapper for
<code>g_timer_new()</code>.
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#Class_timer">timer</a> A timer object</div>
</dd>
</dl>
<h2><a name="Class_timer" id="Class_timer"></a>Class timer</h2>
<dl class="function">
<dt><a name="timer:start" id="timer:start"></a>
<strong>timer:start&nbsp;()</strong></dt>
<dd>Start or reset the timer. This is a wrapper for
<code>g_timer_start()</code>.</dd>
<dt><a name="timer:stop" id="timer:stop"></a>
<strong>timer:stop&nbsp;()</strong></dt>
<dd>Stop the timer if it is running. This is a wrapper for
<code>g_timer_stop()</code>.</dd>
<dt><a name="timer:continue" id="timer:continue"></a>
<strong>timer:continue&nbsp;()</strong></dt>
<dd>Resume the timer if it is stopped. This is a wrapper for
<code>g_timer_continue()</code>.</dd>
<dt><a name="timer:elapsed" id="timer:elapsed"></a>
<strong>timer:elapsed&nbsp;()</strong></dt>
<dd>Return the amount of time counted so far. This is a wrapper for
<code>g_timer_elapsed()</code>.
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>number</strong> The time
counted so far, in seconds.</div>
</dd>
</dl>
<h2><a name="Spawning_Processes" id=
"Spawning_Processes"></a>Spawning Processes</h2>
<dl class="function">
<dt><a name="spawn" id="spawn"></a>
<strong>spawn&nbsp;(args)</strong></dt>
<dd>Run a command asynchronously. This is a wrapper for
<code>g_spawn_async_with_pipes()</code>. The other spawn functions
can easily be emulated using this.
<h3>Parameters:</h3>
<ul>
<li><code><em>args</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.5">table</a> |<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
<p>If the parameter is a string, parse the string as a shell
command and execute it. Otherwise, the command is taken from the
table. If the table has no array component, the command must be
specified using the <em>cmd</em> field. Otherwise, the array
elements specify the argument vector of the command. If both are
provided, the command to actually execute is <em>cmd</em>, but the
first array element is still passed in as the proposed process
name. In addition to the command arguments and <em>cmd</em> field,
the following fields specify options for the spawned command:</p>
<dl>
<dt><strong>stdin</strong>: file|string|boolean (default =
false)</dt>
<dd>Specify the standard input to the process. If this is a file
descriptor, it must be opened in read mode; its contents will be
the process' standard input. If this is a string, it names a file
to be opened for reading. The file name may be blank to indicate
that the standard input should be inherited from the current
process. The file name may be prefixed with an exclamation point to
open in binary mode; otherwise it is opened in normal (text) mode.
Any other value is evaluated as a boolean; true means that a pipe
should be opened such that proc:write() writes to the process, and
false means that no standard input should be provided at all
(equivalent to UNIX /dev/null).</dd>
<dt><strong>stdout</strong>: file|string|boolean (default =
true)</dt>
<dd>Specify the standard output for the process. If this is a file
descriptor, it must be opened in write mode; the process' standard
output will be written to that file. If this is a string, it names
a file to be opened for appending. The file name may be blank to
indicate that the standard output should be inherited from the
current process. The file name may be prefixed with an exclamation
point to open in binary mode; otherwise it is opened in normal
(text) mode. Any other value is evaluated as a boolean; true means
that a pipe should be opened such that proc:read() reads from the
process, and false means that standard output should be
ignored.</dd>
<dt><strong>stderr</strong>: file|string|boolean (default =
“”)</dt>
<dd>Specify the standard error for the process. See the
<strong>stdout</strong> description for details; the only
difference is in which functions are used to read from the pipe
(read_err and friends).</dd>
<dt><strong>env</strong>: table</dt>
<dd>Specify the environment for the process. If this is not
provided, the environment is inherited from the parent. Otherwise,
all keys in the table correspond to variables, and the values
correspond to those variables' values. Only these variables will be
set in the spawned process.</dd>
<dt><strong>path</strong>: boolean (default = true)</dt>
<dd>If this is present and false, do not use the standard system
search path to find the command to execute.</dd>
<dt><strong>chdir</strong>: string</dt>
<dd>If this is present, change to the given directory when
executing the commmand. Otherwise, it will execute in the current
working directory.</dd>
<dt><strong>cmd</strong>: string</dt>
<dd>If this is present, and there are no array entries in this
table, it is parsed as a shell command to construct the command to
run. Otherwise, it is the command to execute instead of the first
element of the argument array.</dd>
</dl>
</li>
</ul>
<h3>Usage:</h3>
<div style="margin-left: 2em">
<pre class="example">-- fully quoted arguments
p = glib.spawn {'cat', f}
f_cont = p:wait()

-- generic command line; parsed by glib rather than shell so relatively safe
p = glib.spawn{cmd='cat /tmp/xyz'}
-- or p = glib.spawn('cat /tmp/xyz')
xyz_cont = p:wait()

-- fully quoted arguments, but with renamed argv[0] if supported
p = glib.spawn{'concatenate', f, cmd='/bin/cat'}
f_cont = p:wait()

-- write output to a file
-- more portable than tacking &gt;file to the command
of = open('/tmp/of', 'w')
p = glib.spawn{'cat', f, stdout=of}
p:wait()
of:close()</pre></div>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#Class_process">process</a> An object representing
the process.</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#shell_parse_argv">shell_parse_argv</a></div>
</dd>
</dl>
<h2><a name="Class_process" id="Class_process"></a>Class
process</h2>
<dl class="function">
<dt><a name="process:read_ready" id="process:read_ready"></a>
<strong>process:read_ready&nbsp;(...)</strong></dt>
<dd>Check if input is available from process standard output. This
function is used to support non-blocking input from the process. It
takes the same parameters as <a href=
"lua-glib.html#process:read">process:read</a> , and returns true if
that read would succeed without blocking. Otherwise, it returns
false (immediately). It accomplishes this by attempting the
requested read in a background thread, and returning success when
the data has actually been read. Due to buffer sizes used and other
issues, the reader thread might hang waiting for input even when
enough data is available, depending on operating system. On Linux,
at least, it should never hang. Note that it is not necessary to
use the same arguments for a subsequent <a href=
"lua-glib.html#process:read">process:read</a> . For example, the
entire file can be pre-read using <code>read_ready('*a')</code>,
followed by reading one line at a time. Attempting to read more
than a prior <code>read_ready</code> may cause the system to wait
for further input.
<h3>Parameters:</h3>
<ul>
<li><code><em>...</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> See <a href=
"lua-glib.html#process:read">process:read</a> for details. For the
‘*n’ format, since it is difficult to tell how much input will be
required, the thread will read until it finds a non-blank
word.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
reading using the given format(s) will succeed without
blocking.</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#process:read">process:read</a></div>
</dd>
<dt><a name="process:read_err_ready" id=
"process:read_err_ready"></a>
<strong>process:read_err_ready&nbsp;(...)</strong></dt>
<dd>Check if input is available from process standard error. See
the documentation for <a href=
"lua-glib.html#process:read_ready">process:read_ready</a> for
details.
<h3>Parameters:</h3>
<ul>
<li><code><em>...</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> See <a href=
"lua-glib.html#process:read_ready">process:read_ready</a> for
details.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
reading using the given format(s) will succeed without
blocking.</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#process:read_ready">process:read_ready</a></div>
</dd>
<dt><a name="process:read" id="process:read"></a>
<strong>process:read&nbsp;(...)</strong></dt>
<dd>Read data from a process' standard output. This function is a
clone of the standard Lua <code>file:read</code> function. It
defers actual I/O to the <a href=
"lua-glib.html#process:read_ready">process:read_ready</a> routine,
which in turn lets a background thread do all of the reading. It
will block until <a href=
"lua-glib.html#process:read_ready">process:read_ready</a> is true,
and then read directly from the buffer filled by the thread.
<h3>Parameters:</h3>
<ul>
<li><code><em>...</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong>
<p>If no parameters are given, read a single newline-terminated
line from input, and strip the trailing newline. Otherwsie, for
each parameter, until failure, a result is read and returned based
on the parameter. If the parameter is a number, then that many
bytes (or fewer) are read. Otherwise, the parameter must be a
string containing one of the following:</p>
<ul>
<li>‘*l’ – read a line in the same way as the empty argument list
does.</li>
<li>‘*n’ – read a number from input; in this case, a number is
returned instead of a string.</li>
<li>‘*a’ – read the entire remainder of the input. Note that if
this is given as a format to <a href=
"lua-glib.html#process:read_ready">process:read_ready</a> , all
standard output from the process will be read as soon as it is
available.</li>
</ul>
</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> |<strong>nil...</strong> For each
parameter (or for the line read by the empty parameter list), the
results of reading that format are returned. If an error occurred
for any parameter, <code>nil</code> is returned for that parameter
and no further parameters are processed.</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#process:read_ready">process:read_ready</a></div>
</dd>
<dt><a name="process:read_err" id="process:read_err"></a>
<strong>process:read_err&nbsp;(...)</strong></dt>
<dd>Read data from a process' standard error. See the <a href=
"lua-glib.html#process:read">process:read</a> function
documentation for details.
<h3>Parameters:</h3>
<ul>
<li><code><em>...</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> See the read function documentation for
details.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> |<strong>nil...</strong> See the read
function documentation for details.</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#process:read">process:read</a></div>
</dd>
<dt><a name="process:lines" id="process:lines"></a>
<strong>process:lines&nbsp;()</strong></dt>
<dd>Return an iterator which reads lines from the process' standard
output. On each iteration, this returns the result of <a href=
"lua-glib.html#process:read">process:read</a> ().
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>function</strong> The
iterator.</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#process:read">process:read</a></div>
</dd>
<dt><a name="process:lines_err" id="process:lines_err"></a>
<strong>process:lines_err&nbsp;()</strong></dt>
<dd>Return an iterator which reads lines from the process' standard
error. On each iteration, this returns the result of <a href=
"lua-glib.html#process:read_err">process:read_err</a> ().
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>function</strong> The
iterator.</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#process:read_err">process:read_err</a></div>
</dd>
<dt><a name="process:write_ready" id="process:write_ready"></a>
<strong>process:write_ready&nbsp;()</strong></dt>
<dd>Check if writing to the process' standard input will block.
Writing to a process' standard input is made non-blocking by
running writes in a background thread.
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if a
call to process:write() will not block.</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#process:write">process:write</a></div>
</dd>
<dt><a name="process:write" id="process:write"></a>
<strong>process:write&nbsp;(...)</strong></dt>
<dd>Write to a process' standard input. Writes all arguments to the
process' standard input. It does this using a background writer
thread that writes each argument before allowing the next write. In
other words, the first write will not block, but subsequent writes
will bock until the previous write has completed.
<h3>Parameters:</h3>
<ul>
<li><code><em>...</em></code>: <strong>string...</strong> All
strings are written, in the order given.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> Returns true
on success. However, since the write has not truly completed until
the background writer has finished, the only way to ensure that
writing was complete and successful is to use <a href=
"lua-glib.html#process:write_ready">process:write_ready</a> or
<a href="lua-glib.html#process:io_wait">process:io_wait</a> .</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#process:write_ready">process:write_ready</a></div>
</dd>
<dt><a name="process:close" id="process:close"></a>
<strong>process:close&nbsp;()</strong></dt>
<dd>Close the process' standard input channel. This function
flushes any pending writes and closes the input channel. Many
processes which take input from standard input need this to detect
the end of input in order to continue processing.</dd>
<dt><a name="process:io_wait" id="process:io_wait"></a>
<strong>process:io_wait&nbsp;([check_in[, check_out[,
check_err]]])</strong></dt>
<dd>Check for process activity. Check to see if I/O is in progress
or the process has died.
<h3>Parameters:</h3>
<ul>
<li><code><em>check_in</em></code>: <strong>boolean</strong> Return
a flag indicating if the background standard input writer is
idle.</li>
<li><code><em>check_out</em></code>: <strong>boolean</strong>
Return a flag indicating if the background standard output reader
is idle.</li>
<li><code><em>check_err</em></code>: <strong>boolean</strong>
Return a flag indicating if the background standard error reader is
idle.</li>
</ul>
<h3>Returns:</h3>
<ol>
<li><strong>boolean</strong> True if the standard input thread is
idle; only returned if requested</li>
<li><strong>boolean</strong> True if the standard output thread is
idle; only returned if requested</li>
<li><strong>boolean</strong> True if the standard error thread is
idle; only returned if requested</li>
<li><strong>boolean</strong> True if the process is no longer
running.</li>
</ol>
</dd>
<dt><a name="process:pid" id="process:pid"></a>
<strong>process:pid&nbsp;()</strong></dt>
<dd>Return the glib process ID for the process. Using the process
ID for anything other than printing debug messages is non-portable.
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>number</strong> GLib process
ID (which may or may not correspond to a system process ID)</div>
</dd>
<dt><a name="process:status" id="process:status"></a>
<strong>process:status&nbsp;()</strong></dt>
<dd>Return the status of the running process.
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> If the process is running, the string
<code>running</code> is returned. Otherwise, the numeric exit code
from the process is returned.</div>
</dd>
<dt><a name="process:check_exit_status" id=
"process:check_exit_status"></a>
<strong>process:check_exit_status&nbsp;()</strong></dt>
<dd>Check if the process return code was an error.
<p>This is only available with GLib 2.34 or later.</p>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>nil</strong> If the status returned by <a href=
"lua-glib.html#process:status">process:status</a> should be
interpreted as an error, a human-readable error message is
returned. If the process has not yet finished, or the return code
is considered successful, <code>nil</code> is returned.</div>
</dd>
<dt><a name="process:wait" id="process:wait"></a>
<strong>process:wait&nbsp;()</strong></dt>
<dd>Wait for process termination and clean up. This function starts
background reads for all data on the standard output and standard
error channels, and flushes and closes the standard input channel.
It then waits for the process to finish. Once finished, the result
code from the process and any gathered standard output and standard
error are returned.
<h3>Returns:</h3>
<ol>
<li><strong>number</strong> Result code from the process</li>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> If a
standard output pipe was in use, this is the remaining data on the
pipe.</li>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> If a
standard error pipe was in use, this is the reaming data on the
pipe.</li>
</ol>
</dd>
</dl>
<h2><a name="File_Utilities" id="File_Utilities"></a>File
Utilities</h2>
<dl class="function">
<dt><a name="file_get" id="file_get"></a>
<strong>file_get&nbsp;(name)</strong></dt>
<dd>Return contents of a file as a string. This function is a
wrapper for <code>g_file_get_contents()</code>. It is mostly
equivalent to
<code>io.open(</code><em>name</em><code>):read('*a')</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> Name of
file to read</li>
</ul>
<h3>Returns:</h3>
<ol>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>nil</strong> Contents of file, or nil if there was an
error.</li>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> Error
message if there was an error.</li>
</ol>
</dd>
<dt><a name="file_set" id="file_set"></a>
<strong>file_set&nbsp;(name, contents)</strong></dt>
<dd>Set contents of a file to a string. This function is a wrapper
for <code>g_file_set_contents()</code>. Rather than write directly
to a file, it writes to a temporary first and then moves the result
into place. In other words, it is <em>not</em> equivalent to
<code>io.open(</code><em>name</em><code>,
'w'):write(</code><em>contents</em><code>)</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> Name of
file to write</li>
<li><code><em>contents</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> Contents
to write</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
successful</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="is_file" id="is_file"></a>
<strong>is_file&nbsp;(name)</strong></dt>
<dd>Test if the given path points to a file. This function is a
wrapper for <code>g_file_test()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The path
name to test</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> true if
<em>name</em> names a plain file</div>
</dd>
<dt><a name="is_dir" id="is_dir"></a>
<strong>is_dir&nbsp;(name)</strong></dt>
<dd>Test if the given path points to a directory. This function is
a wrapper for <code>g_file_test()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The path
name to test</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> true if
<em>name</em> names a plain file</div>
</dd>
<dt><a name="is_symlink" id="is_symlink"></a>
<strong>is_symlink&nbsp;(name)</strong></dt>
<dd>Test if the given path points to a symbolic link. This function
is a wrapper for <code>g_file_test()</code>. Note that if this
returns true, the is_dir and is_file tests may still return true as
well, since they follow symbolic links.
<h3>Parameters:</h3>
<ul>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The path
name to test</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> true if
<em>name</em> names a symbolic link</div>
</dd>
<dt><a name="is_exec" id="is_exec"></a>
<strong>is_exec&nbsp;(name)</strong></dt>
<dd>Test if the given path points to an executable file. This
function is a wrapper for <code>g_file_test()</code>. Note that
GLib uses heuristics on Windows, since there is no executable bit
to test.
<h3>Parameters:</h3>
<ul>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The path
name to test</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> true if
<em>name</em> names an executable file.</div>
</dd>
<dt><a name="exists" id="exists"></a>
<strong>exists&nbsp;(name)</strong></dt>
<dd>Test if the given path points to a file or directory. This
function is a wrapper for <code>g_file_test()</code>. Note that
invalid symbolic links return false, even though they actually
exist.
<h3>Parameters:</h3>
<ul>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The path
name to test</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> true if
<em>name</em> exists in the file system</div>
</dd>
<dt><a name="umask" id="umask"></a>
<strong>umask&nbsp;([mask])</strong></dt>
<dd>Change default file and directory creation permissions mask.
This is a wrapper for the system <code>umask()</code> function,
since there is no equivalent in GLib.
<h3>Parameters:</h3>
<ul>
<li><code><em>mask</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> The permissions mask. Permissions set in
this mask are forced off in any newly created files and
directories. Either a numeric permissions mask or a POSIX-sytle
mode string (e.g. ‘og=w’, which is the default if this parameter is
unspecified) or the last 9 characters of long directory listing
mode (e.g. ‘—-w–w-’, which is also the default).</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>number</strong> The previous
mask.</div>
</dd>
<dt><a name="mkstemp" id="mkstemp"></a>
<strong>mkstemp&nbsp;(tmpl[, perm])</strong></dt>
<dd>Create a unique temporary file from a pattern. This function is
a wrapper for <code>g_mkstemp()</code>. It creates a new, unique
file by replacing the X characters in a template containing six
consecutive X characters.
<h3>Parameters:</h3>
<ul>
<li><code><em>tmpl</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
template.</li>
<li><code><em>perm</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> File creation permissions. Either a
numeric permission mask or a POSIX-style mode string (e.g. ‘ug=rw’)
or the last 9 characters of long directory listing mode (e.g.
‘rwxr-xr-x’)</li>
</ul>
<h3>Returns:</h3>
<ol>
<li><strong>file</strong> A file descriptor for the newly created
file, open for reading and writing (<code>w+b</code>).</li>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The name
of the created file.</li>
</ol>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="open_tmp" id="open_tmp"></a>
<strong>open_tmp&nbsp;([tmpl])</strong></dt>
<dd>Create a unique temporary file in the standard temporary
directory. This function is a wrapper for
<code>g_file_open_tmp()</code>. It creates a new, unique file by
replacing the X characters in a template containing six consecutive
X characters. The template may contain no directory separators.
<h3>Parameters:</h3>
<ul>
<li><code><em>tmpl</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
template. If unspecified, a default template will be used.</li>
</ul>
<h3>Returns:</h3>
<ol>
<li><strong>file</strong> A file descriptor for the newly created
file, open for reading and writing (<code>w+b</code>).</li>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The full
path name of the created file.</li>
</ol>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="read_link" id="read_link"></a>
<strong>read_link&nbsp;(name)</strong></dt>
<dd>Read the contents of a soft link. This is a wrapper for
<code>g_file_read_link()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> Link to
read</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> Link
contents</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="mkdir_with_parents" id="mkdir_with_parents"></a>
<strong>mkdir_with_parents&nbsp;(name[, mode])</strong></dt>
<dd>Create a directory and any required parent directories. This is
a wrapper for <code>g_mkdir_with_parents()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> Name of
directory to create.</li>
<li><code><em>mode</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> File permissions. Either a numeric
creation mode or a POSIX-style mode string (e.g. ‘ug=rw’) or the
last 9 characters of long directory listing mode (e.g.
‘rwxr-xr-x’). If unspecified, ‘a=rx,u=w’ is used (octal 755;
‘rwxr-xr-x’)).</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="mkdtemp" id="mkdtemp"></a>
<strong>mkdtemp&nbsp;(tmpl[, mode])</strong></dt>
<dd>Create a unique tempoarary directory from a pattern. This is a
wrapper for <code>g_mkdtemp</code>. It replaces 6 consecutive Xs in
the pattern with a unique string and creates a directory by that
name.
<p>This is only available with GLib 2.30 or later.</p>
<h3>Parameters:</h3>
<ul>
<li><code><em>tmpl</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The file
name pattern</li>
<li><code><em>mode</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> File permissions. Either a numeric
creation mode or a POSIX-style mode string (e.g. ‘ug=rw’) or the
last 9 characters of long directory listing mode (e.g.
‘rwxr-xr-x’).</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The name
of the created directory</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="dir_make_tmp" id="dir_make_tmp"></a>
<strong>dir_make_tmp&nbsp;([tmpl])</strong></dt>
<dd>Create a unique temporary directory in the standard temporary
directory. This is a wrapper for <code>g_dir_make_tmp()</code>. It
creates a new, unique directory in the standard temporary directory
by replacing 6 consecutive Xs in the template.
<p>This is only available with GLib 2.30 or later.</p>
<h3>Parameters:</h3>
<ul>
<li><code><em>tmpl</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
template. If unspecified, a default template will be used.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The name
of the created directory</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="dir" id="dir"></a> <strong>dir&nbsp;(d)</strong></dt>
<dd>Returns an iterator which lists entries in a directory. This
function wraps <code>g_dir_open()</code> and friends.
<h3>Parameters:</h3>
<ul>
<li><code><em>d</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
directory to list</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>function</strong>
Iterator</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="rename" id="rename"></a> <strong>rename&nbsp;(old,
new)</strong></dt>
<dd>Rename a file sytem entity. This is a wrapper for
<code>g_rename()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>old</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The old
name</li>
<li><code><em>new</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The new
name</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="mkdir" id="mkdir"></a> <strong>mkdir&nbsp;(name[,
mode])</strong></dt>
<dd>Create a directory. This is a wrapper for
<code>g_mkdir()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The name
of the directory.</li>
<li><code><em>mode</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> File permissions. Either a numeric
creation mode or a POSIX-style mode string (e.g. ‘ug=rw’) or the
last 9 characters of long directory listing mode (e.g.
‘rwxr-xr-x’). The default is ‘a=rx,u=w’ (octal 755,
‘rwxr-xr-x’).</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="stat" id="stat"></a> <strong>stat&nbsp;(name[,
fields])</strong></dt>
<dd>Retrieve information on a file system entry. This is a wrapper
for <code>g_stat()</code>. If a table is given to specify fields,
only those fields are returned (nil if not present) as multiple
results. Otherwise, a table is returned with all known fields and
their values. If the field named ‘link’ is requested, it is not an
actual field, but an indicator to return information about a soft
link rather than what it points to.
<h3>Parameters:</h3>
<ul>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The file
system entry to query</li>
<li><code><em>fields</em></code>: {<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
,...}|<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,... The
fields to query, in order.</li>
</ul>
<h3>Returns:</h3>
<ol>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.5">table</a> A table
whose keys are field names and whose values are the value for that
field, if either no specific values are requested or the only value
requested is the psuedo-value ‘link’.</li>
<li><strong>number</strong> |<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>nil</strong> The value of each field; multiple values may
be returned. Unknown fields return <code>nil</code>.</li>
</ol>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="remove" id="remove"></a>
<strong>remove&nbsp;(name)</strong></dt>
<dd>
<p>Remove a file sytem entity. This is a wrapper for
<code>g_remove()</code>. For recursive removal, use Lua:</p>
<pre><code>function rm_r(f)
    local ok, msg, err, gmsg
    if not glib.is_symlink(f) and glib.is_dir(f) then
        local e
        for e in glib.dir(f) do
            ok, msg = rm_r(glib.build_filename(f, e))
            if not ok and not err then
                err = true
                gmsg = msg
            end
        end
    end
    ok, msg = glib.remove(f)
    if not ok and not err then
         err = true
         gmsg = msg
    end
    if err then
         return false, gmsg
    else
         return true
    end
end
</code></pre>
<h3>Parameters:</h3>
<ul>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
entity to remove</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True on
success.</div>
<h3>Raises:</h3>
Returns false and an error message string on failure. Note that the
error message is probably invalid if the entity was not a
directory.</dd>
<dt><a name="chmod" id="chmod"></a> <strong>chmod&nbsp;(name,
perm)</strong></dt>
<dd>Change filesystem entry permissions. This is a wrapper for
<code>g_chmod()</code>. In addition, it will query the original
file for information if a string-style permission is used.
<h3>Parameters:</h3>
<ul>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
filesystem entry to modify</li>
<li><code><em>perm</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>number</strong> Permissions to set.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="can_read" id="can_read"></a>
<strong>can_read&nbsp;(name)</strong></dt>
<dd>Test if fileystem object can be read. This is a wrapper for
<code>g_access()</code>. Note that this function does not
necessarily check access control lists, so it may be better to just
test open/read the file.
<h3>Parameters:</h3>
<ul>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> Name of
object to test</li>
</ul>
<h3>Returns:</h3>
<ol>
<li><strong>boolean</strong> true if <em>name</em> can be
read.</li>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> message
if <em>name</em> cannot be read.</li>
<li><strong>number</strong> error number if <em>name</em> cannot be
read.</li>
</ol>
</dd>
<dt><a name="can_write" id="can_write"></a>
<strong>can_write&nbsp;(name)</strong></dt>
<dd>Test if fileystem object can be written to. This is a wrapper
for <code>g_access()</code>. Note that this function does not
necessarily check access control lists, so it may be better to just
test open/write the file.
<h3>Parameters:</h3>
<ul>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> Name of
object to test</li>
</ul>
<h3>Returns:</h3>
<ol>
<li><strong>boolean</strong> true if <em>name</em> can be written
to.</li>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> message
if <em>name</em> cannot be written to.</li>
<li><strong>number</strong> error number if <em>name</em> cannot be
written to.</li>
</ol>
</dd>
<dt><a name="chdir" id="chdir"></a>
<strong>chdir&nbsp;(dir)</strong></dt>
<dd>Change current working directory. This is a wrapper for
<code>g_chdir()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>dir</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> Name of
directory to change into</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="utime" id="utime"></a> <strong>utime&nbsp;(name[,
atime[, mtime]])</strong></dt>
<dd>Change timestamp on filesystem object. This is a wrapper for
<code>g_utime()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> Name of
entry to touch</li>
<li><code><em>atime</em></code>: <strong>number</strong>
|<strong>nil</strong> access time; <em>mtime</em> is used if not
present. Note that <em>atime</em> may not be supported by the
target file system entry; no error is returned even if that is the
case.</li>
<li><code><em>mtime</em></code>: <strong>number</strong>
|<strong>nil</strong> modification time; current time is used if
neither <em>atime</em> nor <em>mtime</em> present; left alone if
<em>atime</em> present but <em>mtime</em> not present</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="link" id="link"></a> <strong>link&nbsp;(target, name[,
soft])</strong></dt>
<dd>Create a link. This is not a wrapper for any GLib function,
since GLib does not support links portably. It creates a hard link
or soft link, if supported. Note that on Windows, whether or not
the target is a directory must be known at link creation time. This
is discovered by checking the target.
<h3>Parameters:</h3>
<ul>
<li><code><em>target</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
link’s target</li>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The name
of the link to create</li>
<li><code><em>soft</em></code>: <strong>boolean</strong> If true,
create a soft link</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True</div>
<h3>Raises:</h3>
Returns False and an error message string on failure</dd>
</dl>
<h2><a name="URI_Functions" id="URI_Functions"></a>URI
Functions</h2>
<dl class="function">
<dt><a name="uri_reserved_chars_allowed_in_path" id=
"uri_reserved_chars_allowed_in_path"></a>
<strong>uri_reserved_chars_allowed_in_path</strong></dt>
<dd>Allowed characters in a path. This is a wrapper for
<code>G_URI_RESERVED_CHARS_ALLOWED_IN_PATH</code>.</dd>
<dt><a name="uri_reserved_chars_allowed_in_path_element" id=
"uri_reserved_chars_allowed_in_path_element"></a>
<strong>uri_reserved_chars_allowed_in_path_element</strong></dt>
<dd>Allowed characters in path elements. This is a wrapper for
<code>G_URI_RESERVED_CHARS_ALLOWED_IN_PATH_ELEMENT</code>.</dd>
<dt><a name="uri_reserved_chars_allowed_in_userinfo" id=
"uri_reserved_chars_allowed_in_userinfo"></a>
<strong>uri_reserved_chars_allowed_in_userinfo</strong></dt>
<dd>Allowed characters in userinfo (RFC 3986). This is a wrapper
for <code>G_URI_RESERVED_CHARS_ALLOWED_IN_USERINFO</code>.</dd>
<dt><a name="uri_reserved_chars_generic_delimiters" id=
"uri_reserved_chars_generic_delimiters"></a>
<strong>uri_reserved_chars_generic_delimiters</strong></dt>
<dd>Generic delimiter characters (RFC 3986). This is a wrapper for
<code>G_URI_RESERVED_CHARS_GENERIC_DELIMITERS</code>.</dd>
<dt><a name="uri_reserved_chars_subcomponent_delimiters" id=
"uri_reserved_chars_subcomponent_delimiters"></a>
<strong>uri_reserved_chars_subcomponent_delimiters</strong></dt>
<dd>Subcomponent delimiter characters (RFC 3986). This is a wrapper
for <code>G_URI_RESERVED_CHARS_SUBCOMPONENT_DELIMITERS</code>.</dd>
<dt><a name="uri_parse_scheme" id="uri_parse_scheme"></a>
<strong>uri_parse_scheme&nbsp;(uri)</strong></dt>
<dd>Extract scheme from URI. This is a wrapper for
<code>g_uri_parse_scheme()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
valid URI</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
scheme</div>
<h3>Raises:</h3>
Returns <code>nil</code> on error.</dd>
<dt><a name="uri_escape_string" id="uri_escape_string"></a>
<strong>uri_escape_string&nbsp;(s[, allow[, utf8]])</strong></dt>
<dd>Escapes a string for use in a URI. This is a wrapper for
<code>g_uri_escape_string()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
string to esacape; nuls are not allowed.</li>
<li><code><em>allow</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> Reserved
characters to leave unescaped anyway.</li>
<li><code><em>utf8</em></code>: <strong>boolean</strong> Allow
UTF-8 characters in result.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
escaped string.</div>
</dd>
<dt><a name="uri_unescape_string" id="uri_unescape_string"></a>
<strong>uri_unescape_string&nbsp;(s[, illegal])</strong></dt>
<dd>Unescapes an escaped string. This is a wrapper for
<code>g_uri_unescape_string()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
string to unescape</li>
<li><code><em>illegal</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
Characters which may not appear in the result; nul characters are
automatically illegal.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
unescaped string.</div>
<h3>Raises:</h3>
Returns <code>nil</code> on error.</dd>
<dt><a name="uri_list_extract_uris" id="uri_list_extract_uris"></a>
<strong>uri_list_extract_uris&nbsp;(list)</strong></dt>
<dd>Splits an URI list conforming to the text/uri-list MIME type
(RFC 2483). This is a wrapper for
<code>g_uri_list_extract_uris()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>list</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The URI
list</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em">{<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}A
table containing the URIs</div>
</dd>
<dt><a name="filename_from_uri" id="filename_from_uri"></a>
<strong>filename_from_uri&nbsp;(uri)</strong></dt>
<dd>Converts an ASCII-encoded URI to a local filename. This is a
wrapper for <code>g_filename_from_uri()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
</ul>
<h3>Returns:</h3>
<ol>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The file
name</li>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>nil</strong> The host name, or <code>nil</code> if
none</li>
</ol>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="filename_to_uri" id="filename_to_uri"></a>
<strong>filename_to_uri&nbsp;(file[, host])</strong></dt>
<dd>Converts an absolute filename to an escaped ASCII-encoded URI.
This is a wrapper for <code>g_filename_to_uri()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>file</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
filename</li>
<li><code><em>host</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The host
name</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
</dl>
<h2><a name="Hostname_Utilities" id=
"Hostname_Utilities"></a>Hostname Utilities</h2>
<dl class="function">
<dt><a name="hostname_to_ascii" id="hostname_to_ascii"></a>
<strong>hostname_to_ascii&nbsp;(hostname)</strong></dt>
<dd>Convert a host name to its canonical ASCII form. This is a
wrapper for <code>g_hostname_to_ascii()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>hostname</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The name
to convert</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
converted name</div>
<h3>Raises:</h3>
Returns <code>nil</code> on error.</dd>
<dt><a name="hostname_to_unicode" id="hostname_to_unicode"></a>
<strong>hostname_to_unicode&nbsp;(hostname)</strong></dt>
<dd>Convert a host name to its canonical Unicode form. This is a
wrapper for <code>g_hostname_to_unicode()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>hostname</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The name
to convert</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
converted name</div>
<h3>Raises:</h3>
Returns <code>nil</code> on error.</dd>
<dt><a name="hostname_is_non_ascii" id="hostname_is_non_ascii"></a>
<strong>hostname_is_non_ascii&nbsp;(hostname)</strong></dt>
<dd>Check if a host name contains Unicode characters. This is a
wrapper for <code>g_hostname_is_non_ascii()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>hostname</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The name
to check</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if the
host name needs to be converted to ASCII for non-IDN-aware
contexts.</div>
</dd>
<dt><a name="hostname_is_ascii_encoded" id=
"hostname_is_ascii_encoded"></a>
<strong>hostname_is_ascii_encoded&nbsp;(hostname)</strong></dt>
<dd>Check if a host name contains ASCII-encoded Unicode characters.
This is a wrapper for <code>g_hostname_is_ascii_encoded()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>hostname</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The name
to check</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if the
host name needs to be converted to Unicode for presentation and
IDN-aware contexts.</div>
</dd>
<dt><a name="hostname_is_ip_address" id=
"hostname_is_ip_address"></a>
<strong>hostname_is_ip_address&nbsp;(hostname)</strong></dt>
<dd>Check if a string is an IPv4 or IPv6 numeric address. This is a
wrapper for <code>g_hostname_is_ip_address()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>hostname</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The name
to check</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if the
host name is actually an IP address</div>
</dd>
</dl>
<h2><a name="Shell_related_Utilities" id=
"Shell_related_Utilities"></a>Shell-related Utilities</h2>
<dl class="function">
<dt><a name="shell_parse_argv" id="shell_parse_argv"></a>
<strong>shell_parse_argv&nbsp;(cmdline)</strong></dt>
<dd>Parse a command line into an argument vector, but without
variable and glob pattern expansion. This is a wrapper for
<code>g_shell_parse_argv()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>cmdline</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
command line to parse</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em">{<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}A
table containing the command-line arguments</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="shell_quote" id="shell_quote"></a>
<strong>shell_quote&nbsp;(s)</strong></dt>
<dd>Quote a string so it is interpreted unmodified as a shell
argument. This is a wrapper for <code>g_shell_quote()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
string to quote</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
quoted string</div>
</dd>
<dt><a name="shell_unquote" id="shell_unquote"></a>
<strong>shell_unquote&nbsp;(s)</strong></dt>
<dd>Unquote a string quoted for use as a shell argument. This is a
wrapper for <code>g_shell_unquote()</code>.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
string to unquote</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
unquoted string</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
</dl>
<h2><a name="Perl_compatible_Regular_Expressions" id=
"Perl_compatible_Regular_Expressions"></a>Perl-compatible Regular
Expressions</h2>
<dl class="function">
<dt><a name="regex_new" id="regex_new"></a>
<strong>regex_new&nbsp;(pattern[, cflags[, mflags]])</strong></dt>
<dd>Compile a regular expression for use in matching functions.
This is a wrapper for <code>g_regex_new()</code>. See in particular
the Regular expression syntax section of the GLib documentation.
<h3>Parameters:</h3>
<ul>
<li><code><em>pattern</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
regular expression. Note that embedded NUL characters are
supported.</li>
<li><code><em>cflags</em></code>: {<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}
<p>Compile flags (note: some may be set by the library based on the
pattern input):</p>
<ul>
<li><code>caseless</code> – Case-insensitive search</li>
<li><code>multiline</code> – ^ and $ match newlines in search
strings</li>
<li><code>dotall</code> – . matches newlines</li>
<li><code>extended</code> – unescaped whitespace and unescaped # ..
newline ignored</li>
<li><code>anchored</code> – pattern must match at start of
string</li>
<li><code>dollar_endonly</code> – $ does not match newline at end
of string</li>
<li><code>ungreedy</code> – Invert greediness of variable-length
matches</li>
<li><code>raw</code> – Strings are sequences of bytes rather than
UTF-8</li>
<li><code>no_auto_capture</code> – Plain () does not capture (use
explicitly named captures)</li>
<li><code>optimize</code> – Optimize the regular expression</li>
<li><code>dupnames</code> – Do not enforce unique subpattern
names</li>
<li><code>newline_cr</code> – Newlines for $, ^, and . are \r
(default: any).</li>
<li><code>newline_lf</code> – Newlines for $, ^, and . are \n
(default: any).</li>
<li><code>newline_crlf</code> – Newlines for $, ^, and . are \r\n
(default: any).</li>
</ul>
</li>
<li><code><em>mflags</em></code>: {<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}
<p>Match flags:</p>
<ul>
<li><code>anchored</code> – pattern must match at start of
string</li>
<li><code>notbol</code> – ^ does not match the start of string (but
\A does)</li>
<li><code>noteol</code> – $ does not match the end of string (but
\Z and \z do)</li>
<li><code>notempty</code> – the match length must be greater than
zero</li>
<li><code>partial</code> – use partial (incremental) matching;
incompatible with <code>all</code></li>
<li><code>newline_cr</code> – Newlines for $, ^, and . are \r.</li>
<li><code>newline_lf</code> – Newlines for $, ^, and . are \n.</li>
<li><code>newline_crlf</code> – Newlines for $, ^, and . are
\r\n.</li>
<li><code>newline_any</code> – Newlines for $, ^, and . are
any.</li>
<li><code>all</code> – changes the behavior of matches from
returning captures to returning all potential matches. That is, any
variable-length matching operator will attempt to match at every
possible length, rather than the most/least greedy depending on the
ungreedy option an the ? greediness operator. This is incompatible
with captures and partial matching.</li>
</ul>
</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#Class_regex">regex</a> The compiled regular
expression</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="regex_escape_string" id="regex_escape_string"></a>
<strong>regex_escape_string&nbsp;(s)</strong></dt>
<dd>Escapes a string so it is a literal in a regular expression.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
string to escape</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
escaped string.</div>
</dd>
</dl>
<h2><a name="Class_regex" id="Class_regex"></a>Class regex</h2>
<dl class="function">
<dt><a name="regex:get_pattern" id="regex:get_pattern"></a>
<strong>regex:get_pattern&nbsp;()</strong></dt>
<dd>Get the pattern string used to create this regex.
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
pattern string</div>
</dd>
<dt><a name="regex:get_max_backref" id="regex:get_max_backref"></a>
<strong>regex:get_max_backref&nbsp;()</strong></dt>
<dd>Get the highest back reference in the pattern.
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>number</strong> The number of
the highest backreference, or 0 if there are none.</div>
</dd>
<dt><a name="regex:get_has_cr_or_lf" id=
"regex:get_has_cr_or_lf"></a>
<strong>regex:get_has_cr_or_lf&nbsp;()</strong></dt>
<dd>Check if pattern contains explicit CR or LF references.
<p>This is only available with GLib 2.34 or later.</p>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> true if the
pattern contains explicit CR or LF references.</div>
</dd>
<dt><a name="regex:get_max_lookbehind" id=
"regex:get_max_lookbehind"></a>
<strong>regex:get_max_lookbehind&nbsp;()</strong></dt>
<dd>Get the number of characters in the longest lookbehind
assertion in the pattern.
<p>This is only available with GLib 2.38 or later.</p>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>number</strong> The number of
characters in the longest lookbehind assertion.</div>
</dd>
<dt><a name="regex:get_capture_count" id=
"regex:get_capture_count"></a>
<strong>regex:get_capture_count&nbsp;()</strong></dt>
<dd>Get the number of capturing subpatterns in the pattern.
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>number</strong> The number of
capturing subpatterns.</div>
</dd>
<dt><a name="regex:get_string_number" id=
"regex:get_string_number"></a>
<strong>regex:get_string_number&nbsp;(name)</strong></dt>
<dd>Get the number of the capturing subexpression with the given
name.
<h3>Parameters:</h3>
<ul>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
subexpression name</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>number</strong> The
subexpression number, or -1 if <em>name</em> does not exist</div>
</dd>
<dt><a name="regex:get_compile_flags" id=
"regex:get_compile_flags"></a>
<strong>regex:get_compile_flags&nbsp;()</strong></dt>
<dd>Get the names of all compile flags set when regex was created.
<h3>Returns:</h3>
<div style="margin-left: 2em">{<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}The
names of any flags set when regex was created.</div>
</dd>
<dt><a name="regex:get_match_flags" id="regex:get_match_flags"></a>
<strong>regex:get_match_flags&nbsp;()</strong></dt>
<dd>Get the names of all matching flags set when regex was created.
<h3>Returns:</h3>
<div style="margin-left: 2em">{<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}The
names of any flags set when regex was created.</div>
</dd>
<dt><a name="regex:find" id="regex:find"></a>
<strong>regex:find&nbsp;(s[, start[, mflags]])</strong></dt>
<dd>Search for a match in a string.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
string to search</li>
<li><code><em>start</em></code>: <strong>number</strong> The start
position.</li>
<li><code><em>mflags</em></code>: {<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}
<p>Additional match flags:</p>
<ul>
<li><code>anchored</code> – pattern must match at start of
string</li>
<li><code>notbol</code> – ^ does not match the start of string (but
\A does)</li>
<li><code>noteol</code> – $ does not match the end of string (but
\Z does)</li>
<li><code>notempty</code> – the match length must be greater than
zero</li>
<li><code>partial</code> – use partial (incremental) matching;
incompatible with <code>all</code></li>
<li><code>newline_cr</code> – Newlines for $, ^, and . are \r.</li>
<li><code>newline_lf</code> – Newlines for $, ^, and . are \n.</li>
<li><code>newline_crlf</code> – Newlines for $, ^, and . are
\r\n.</li>
<li><code>newline_any</code> – Newlines for $, ^, and . are
any.</li>
<li><code>all</code> – changes the behavior of matches from
returning captures to returning all potential matches. That is, any
variable-length matching operator will attempt to match at every
possible length, rather than the most/least greedy depending on the
ungreedy option an the ? greediness operator. This is incompatible
with captures and partial matching.</li>
</ul>
</li>
</ul>
<h3>Returns:</h3>
<ol>
<li><strong>number</strong> |<strong>nil</strong>
|<strong>boolean</strong> The location of the start of the first
match, or <code>nil</code> if there are no matches, or false if
there is only a partial match, in which case no further results are
returned (the location of the match cannot be determined, and there
are no captures).</li>
<li><strong>number</strong> The location of the last character of
the first match</li>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>boolean</strong> ,...On a successful match, all captures
are returned as well. If a capture does not exist, false is
returned for that capture. For <code>all</code> mode, these are
actually all possible matches except the maximal match, which is
described by the first two return values.</li>
</ol>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#pdf-string.find">string.find</a></div>
</dd>
<dt><a name="regex:tfind" id="regex:tfind"></a>
<strong>regex:tfind&nbsp;(s[, start[, mflags]])</strong></dt>
<dd>Search for a match in a string. Unlike <a href=
"lua-glib.html#regex:find">regex:find</a> , captures are returned
in a table rather than as individual return values.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
string to search</li>
<li><code><em>start</em></code>: <strong>number</strong> The start
position.</li>
<li><code><em>mflags</em></code>: {<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}
<p>Additional match flags:</p>
<ul>
<li><code>anchored</code> – pattern must match at start of
string</li>
<li><code>notbol</code> – ^ does not match the start of string (but
\A does)</li>
<li><code>noteol</code> – $ does not match the end of string (but
\Z does)</li>
<li><code>notempty</code> – the match length must be greater than
zero</li>
<li><code>partial</code> – use partial (incremental) matching;
incompatible with <code>all</code></li>
<li><code>newline_cr</code> – Newlines for $, ^, and . are \r.</li>
<li><code>newline_lf</code> – Newlines for $, ^, and . are \n.</li>
<li><code>newline_crlf</code> – Newlines for $, ^, and . are
\r\n.</li>
<li><code>newline_any</code> – Newlines for $, ^, and . are
any.</li>
<li><code>all</code> – changes the behavior of matches from
returning captures to returning all potential matches. That is, any
variable-length matching operator will attempt to match at every
possible length, rather than the most/least greedy depending on the
ungreedy option an the ? greediness operator. This is incompatible
with captures and partial matching.</li>
</ul>
</li>
</ul>
<h3>Returns:</h3>
<ol>
<li><strong>number</strong> |<strong>nil</strong>
|<strong>boolean</strong> The location of the start of the first
match, or <code>nil</code> if there are no matches, or false if
there is only a partial match, in which case no further results are
returned (the location of the match cannot be determined, and there
are no captures).</li>
<li><strong>number</strong> The location of the last character of
the first match</li>
<li>{<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>boolean</strong> ,...}On a successful match, all captures
are returned as well. If a capture does not exist, false is
returned for that capture. If there are no captures, an empty table
is returned. For <code>all</code> mode, these are actually all
possible matches except the maximal match, which is described by
the first two return values.</li>
</ol>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#pdf-string.find">string.find</a></div>
</dd>
<dt><a name="regex:match" id="regex:match"></a>
<strong>regex:match&nbsp;(s[, start[, mflags]])</strong></dt>
<dd>Search for a match in a string.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
string to search</li>
<li><code><em>start</em></code>: <strong>number</strong> The start
position.</li>
<li><code><em>mflags</em></code>: {<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}
<p>Additional match flags:</p>
<ul>
<li><code>anchored</code> – pattern must match at start of
string</li>
<li><code>notbol</code> – ^ does not match the start of string (but
\A does)</li>
<li><code>noteol</code> – $ does not match the end of string (but
\Z does)</li>
<li><code>notempty</code> – the match length must be greater than
zero</li>
<li><code>partial</code> – use partial (incremental) matching;
incompatible with <code>all</code></li>
<li><code>newline_cr</code> – Newlines for $, ^, and . are \r.</li>
<li><code>newline_lf</code> – Newlines for $, ^, and . are \n.</li>
<li><code>newline_crlf</code> – Newlines for $, ^, and . are
\r\n.</li>
<li><code>newline_any</code> – Newlines for $, ^, and . are
any.</li>
<li><code>all</code> – changes the behavior of matches from
returning captures to returning all potential matches. That is, any
variable-length matching operator will attempt to match at every
possible length, rather than the most/least greedy depending on the
ungreedy option an the ? greediness operator. This is incompatible
with captures and partial matching.</li>
</ul>
</li>
</ul>
<h3>Returns:</h3>
<ol>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>nil</strong> |<strong>boolean</strong> The first capture,
or the full match if there are no captures, or <code>nil</code> if
there are no matches, or false if there is only a partial match (in
which case there are no captures).</li>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>boolean</strong> ,...On a successful match, all remaining
captures are returned as well. If a capture does not exist, false
is returned for that capture. For <code>all</code> mode, which has
no captures, these are all possible matches but the maximal match,
which is the first returned string.</li>
</ol>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#pdf-string.match">string.match</a></div>
</dd>
<dt><a name="regex:gmatch" id="regex:gmatch"></a>
<strong>regex:gmatch&nbsp;(s[, start[, mflags]])</strong></dt>
<dd>Search for all matches in a string.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
string to search</li>
<li><code><em>start</em></code>: <strong>number</strong> The start
position.</li>
<li><code><em>mflags</em></code>: {<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}
Additional match flags:
<ul>
<li><code>anchored</code> – pattern must match at start of
string</li>
<li><code>notbol</code> – ^ does not match the start of string (but
\A does)</li>
<li><code>noteol</code> – $ does not match the end of string (but
\Z does)</li>
<li><code>notempty</code> – the match length must be greater than
zero</li>
<li><code>partial</code> – use partial (incremental) matching</li>
<li><code>newline_cr</code> – Newlines for $, ^, and . are \r.</li>
<li><code>newline_lf</code> – Newlines for $, ^, and . are \n.</li>
<li><code>newline_crlf</code> – Newlines for $, ^, and . are
\r\n.</li>
<li><code>newline_any</code> – Newlines for $, ^, and . are
any.</li>
</ul>
<p>Note that a regex created using <code>all</code> will return an
error.</p>
</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>function</strong> An iterator
function which, on each iteration, returns the same as <a href=
"lua-glib.html#regex:match">regex:match</a> would have for the next
match in the string.</div>
<h3>see also:</h3>
<ul>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#pdf-string.gmatch">string.gmatch</a></li>
<li><a href="lua-glib.html#regex:match">regex:match</a></li>
</ul>
</dd>
<dt><a name="regex:gfind" id="regex:gfind"></a>
<strong>regex:gfind&nbsp;(s[, start[, mflags]])</strong></dt>
<dd>Search for all matches in a string.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
string to search</li>
<li><code><em>start</em></code>: <strong>number</strong> The start
position.</li>
<li><code><em>mflags</em></code>: {<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}
Additional match flags:
<ul>
<li><code>anchored</code> – pattern must match at start of
string</li>
<li><code>notbol</code> – ^ does not match the start of string (but
\A does)</li>
<li><code>noteol</code> – $ does not match the end of string (but
\Z does)</li>
<li><code>notempty</code> – the match length must be greater than
zero</li>
<li><code>partial</code> – use partial (incremental) matching</li>
<li><code>newline_cr</code> – Newlines for $, ^, and . are \r.</li>
<li><code>newline_lf</code> – Newlines for $, ^, and . are \n.</li>
<li><code>newline_crlf</code> – Newlines for $, ^, and . are
\r\n.</li>
<li><code>newline_any</code> – Newlines for $, ^, and . are
any.</li>
</ul>
<p>Note that a regex created using <code>all</code> will return an
error.</p>
</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>function</strong> An iterator
function which, on each iteration, returns the same as <a href=
"lua-glib.html#regex:find">regex:find</a> would have for the next
match in the string.</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#regex:find">regex:find</a></div>
</dd>
<dt><a name="regex:gtfind" id="regex:gtfind"></a>
<strong>regex:gtfind&nbsp;(s[, start[, mflags]])</strong></dt>
<dd>Search for all matches in a string.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
string to search</li>
<li><code><em>start</em></code>: <strong>number</strong> The start
position.</li>
<li><code><em>mflags</em></code>: {<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}
Additional match flags:
<ul>
<li><code>anchored</code> – pattern must match at start of
string</li>
<li><code>notbol</code> – ^ does not match the start of string (but
\A does)</li>
<li><code>noteol</code> – $ does not match the end of string (but
\Z does)</li>
<li><code>notempty</code> – the match length must be greater than
zero</li>
<li><code>partial</code> – use partial (incremental) matching</li>
<li><code>newline_cr</code> – Newlines for $, ^, and . are \r.</li>
<li><code>newline_lf</code> – Newlines for $, ^, and . are \n.</li>
<li><code>newline_crlf</code> – Newlines for $, ^, and . are
\r\n.</li>
<li><code>newline_any</code> – Newlines for $, ^, and . are
any.</li>
</ul>
<p>Note that a regex created using <code>all</code> will return an
error.</p>
</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>function</strong> An iterator
function which, on each iteration, returns the same as <a href=
"lua-glib.html#regex:tfind">regex:tfind</a> would have for the next
match in the string.</div>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#regex:tfind">regex:tfind</a></div>
</dd>
<dt><a name="regex:split" id="regex:split"></a>
<strong>regex:split&nbsp;(s[, start[, mflags[,
max]]])</strong></dt>
<dd>Split a string with a regular expression separator.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
string to split</li>
<li><code><em>start</em></code>: <strong>number</strong> The start
position.</li>
<li><code><em>mflags</em></code>: {<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}
Additional match flags:
<ul>
<li><code>anchored</code> – pattern must match at start of
string</li>
<li><code>notbol</code> – ^ does not match the start of string (but
\A does)</li>
<li><code>noteol</code> – $ does not match the end of string (but
\Z does)</li>
<li><code>notempty</code> – the match length must be greater than
zero</li>
<li><code>newline_cr</code> – Newlines for $, ^, and . are \r.</li>
<li><code>newline_lf</code> – Newlines for $, ^, and . are \n.</li>
<li><code>newline_crlf</code> – Newlines for $, ^, and . are
\r\n.</li>
<li><code>newline_any</code> – Newlines for $, ^, and . are
any.</li>
</ul>
<p>Note that a regex created using <code>all</code> or
<code>partial</code> will return an error.</p>
</li>
<li><code><em>max</em></code>: <strong>number</strong> The maximum
number of elements to return. If unspecified or less than 1, all
elements are returned.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em">{<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>boolean</strong> ,...}
<p>The elements separated by the regular expression. Each element
is separated by any capture strings from the separator, if present.
If a capture does not exist, false is returned for that capture. If
there are no captures, only the elements are returned. For
example:</p>
<pre><code> rx = glib.regex_new('\\|(.?)\\|')
 spl = rx:split('abc||def|!|ghi')
  -- { 'abc', '', 'def', '!', 'ghi' }
</code></pre></div>
</dd>
<dt><a name="regex:gsub" id="regex:gsub"></a>
<strong>regex:gsub&nbsp;(s, repl[, start[, n[,
mflags]]])</strong></dt>
<dd>Replace occurrences of regular expression in string.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
string to modify. Note that zeroes are not supported in the final
result string, whether they stem from <em>s</em> or
<em>repl</em>.</li>
<li><code><em>repl</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<a href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a>
|<strong>function</strong> The replacement. If this is a string,
the string is the replacement text, which supports
backslash-escapes for capture substitution and case conversion. If
it is a table, the first capture (or entire match if there are no
captures, or false if the capture exists but is not matched) is
used as a key into the table; if the value is a string or number,
it is the literal replacement text; otherwise, if the value is
false or <code>nil</code>, no substitution is made. If it is a
function, the function is called for every match, with all captures
(or the entire match if there are no captures) as arguments (as
with <a href="lua-glib.html#regex:match">regex:match</a> , captures
which do not exist are passed as false); the return value is
treated like the table entries. For literal interpretation of a
string, call <a href=
"lua-glib.html#regex_escape_string">regex_escape_string</a> on it
first.</li>
<li><code><em>start</em></code>: <strong>number</strong> The start
position.</li>
<li><code><em>n</em></code>: <strong>number</strong>
|<strong>function</strong> The maximum number of replacements, if
specified as a number greater than 0. If specified as a function,
the function is called after determining the potential replacement
text. Its parameters are the full match start position, the full
match end position, and the potential replacement text (or
false/<code>nil</code> if no replacement is to be made). The
function must return two values: the first is the replacement
operation: true if normal replacement is to be made, false if no
replacement is to be made, and a string if an alternate replacement
is to be made. The second is the conintuation flag: if absent,
<code>nil</code>, or false, continue replacement, and if true,
continue globally without checking <em>n</em>, and if a number,
continue that many iterations maximum without checking
<em>n</em>.</li>
<li><code><em>mflags</em></code>: {<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}
Additional match flags:
<ul>
<li><code>anchored</code> – pattern must match at start of
string</li>
<li><code>notbol</code> – ^ does not match the start of string (but
\A does)</li>
<li><code>noteol</code> – $ does not match the end of string (but
\Z does)</li>
<li><code>notempty</code> – the match length must be greater than
zero</li>
<li><code>newline_cr</code> – Newlines for $, ^, and . are \r.</li>
<li><code>newline_lf</code> – Newlines for $, ^, and . are \n.</li>
<li><code>newline_crlf</code> – Newlines for $, ^, and . are
\r\n.</li>
<li><code>newline_any</code> – Newlines for $, ^, and . are
any.</li>
</ul>
<p>Note that a regex created using <code>all</code> or
<code>partial</code> will return an error.</p>
</li>
</ul>
<h3>Returns:</h3>
<ol>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
substituted string</li>
<li><strong>number</strong> The number of matches</li>
<li><strong>number</strong> The number of substitutions</li>
</ol>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#regex_escape_string">regex_escape_string</a></div>
</dd>
</dl>
<h2><a name="Simple_XML_Subset_Parser" id=
"Simple_XML_Subset_Parser"></a>Simple XML Subset Parser</h2>
<p>The following functions use varargs, and are not supported:</p>
<p><code>g_markup_*printf_escaped()</code>: emulate using string
concat and renaming of escaper to shorter name:</p>
<pre><code> e = glib.markup_escape_text
 output = '&lt;purchase&gt;' ..
          '&lt;store&gt;' .. e(store) .. '&lt;/store&gt;' ..
          '&lt;item&gt;' .. e(item) .. '&lt;/item&gt;' ..
          '&lt;/purchase&gt;'
</code></pre>
<p><code>g_markup_collect_attributes()</code>: the only useful bit
here that is for some reason not exposed independently is the
boolean parser. Otherwise, it’s best to emulate using lua:</p>
<pre><code>-- usage:
attrs, msg = collect_attrs(attr_names, attr_vals,
                           {a='str', b='bool', c='?bool', ...})
if not attrs then print("error: " .. msg) end

-- only allocate/parse once
local bool_rx = glib.regex_new('^(false|f|no|n|0)|(true|t|yes|y|1)$', {'caseless'})
-- could pass in el_name for better error message
function collect_attrs(attr_names, attr_vals, req_parms)
  -- return attr=value table
  local attrs = {}
  -- put attrs i table, checking for duplicates
  local i, v
  for i, v in ipairs(attr_names) do
    if attrs[v] then return nil, "duplicate attribute " .. v end
    attrs[v] = attr_vals[i]
  end
  -- parse values, ensuring they are in req_parms as well
  local n
  for n, v in pairs(attrs) do
    local isreq = req_parms[n]
    if not isreq then return nil, "unknown attribute " .. n end
    if isreq:sub(1, 1) == '?' then isreq = isreq:sub(2) end
    if isreq == 'bool' then
      local f = bool_rx:match(v)
      if not f then return nil, "invalid boolean " .. n end
      attrs[n] = f == ''
    end
  end
  -- ensure that only optional values are missing
  for n, v in pairs(req_parms) do
    if v:sub(1, 1) ~= '?' and attrs[n] == nil then
      return nil, "missing attr " .. n
    end
  end
  return attrs
end
</code></pre>
<dl class="function">
<dt><a name="markup_escape_text" id="markup_escape_text"></a>
<strong>markup_escape_text&nbsp;(s)</strong></dt>
<dd>Escape text so GMarkup XML parsing will return it to original.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
string to escape</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
escaped string</div>
</dd>
<dt><a name="_gmarkup_start_element_" id=
"_gmarkup_start_element_"></a>
<strong>_gmarkup_start_element_&nbsp;(ctx, name, attr_names,
attr_values)</strong></dt>
<dd>The function called when an opening tag of an element is seen.
<h3>Parameters:</h3>
<ul>
<li><code><em>ctx</em></code>: <a href=
"lua-glib.html#Class_markup_parse_context">markup_parse_context</a>
The context in which this was called</li>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The name
of the element being started</li>
<li><code><em>attr_names</em></code>: {<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}
The names of the attributes in this tag, in order</li>
<li><code><em>attr_values</em></code>: {<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}
The values of the attributes in this tag, in the same order as the
names.</li>
</ul>
<h3>Usage:</h3>
<div style="margin-left: 2em">
<pre class="example">function counter()
  local count = 0
  return {
    start_element = function() count = count + 1 end,
    pop = function() return count end
  }
end
gmp = markup_parse_context_new {
   start_element = function(ctx, el, ...)
     if el == 'count' return counter() end
   end,
   end_element = function(ctx, n, pop)
     if pop then print(pop()) end
   end
}</pre></div>
<h3>Returns:</h3>
<div style="margin-left: 2em">{<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
=<strong>value</strong> ,...}|<strong>nil</strong>
<p>If present and a table, push the parser context and use the
returned parser instead. The current parser will resume upon
reaching the associated end element. See <a href=
"lua-glib.html#markup_parse_context_new">markup_parse_context_new</a>
for details.</p>
<ul>
<li><strong>start_element</strong>: a function like <a href=
"lua-glib.html#_gmarkup_start_element_">_gmarkup_start_element_</a>
.</li>
<li><strong>end_element</strong>: a function like <a href=
"lua-glib.html#_gmarkup_end_element_">_gmarkup_end_element_</a>
.</li>
<li><strong>text</strong>: a function like <a href=
"lua-glib.html#_gmarkup_text_">_gmarkup_text_</a> .</li>
<li><strong>passthrough</strong>: a function like <a href=
"lua-glib.html#_gmarkup_passthrough_">_gmarkup_passthrough_</a>
.</li>
<li><strong>error</strong>: a function like <a href=
"lua-glib.html#_gmarkup_error_">_gmarkup_error_</a> .</li>
<li><strong>pop</strong>: a value to pass to the
<em>end_element</em> handler when finished. It may be any value,
but a function is probably most suitable. There is no guarantee
that this value will ever be used, since it requires that no errors
occur and that the <em>end_element</em> handler actually uses
it.</li>
</ul>
</div>
<h3>Raises:</h3>
Returns error message string on error.
<h3>see also:</h3>
<ul>
<li><a href=
"lua-glib.html#markup_parse_context_new">markup_parse_context_new</a></li>
<li><a href=
"lua-glib.html#_gmarkup_end_element_">_gmarkup_end_element_</a></li>
<li><a href="lua-glib.html#_gmarkup_text_">_gmarkup_text_</a></li>
<li><a href=
"lua-glib.html#_gmarkup_passthrough_">_gmarkup_passthrough_</a></li>
<li><a href=
"lua-glib.html#_gmarkup_error_">_gmarkup_error_</a></li>
</ul>
</dd>
<dt><a name="_gmarkup_end_element_" id="_gmarkup_end_element_"></a>
<strong>_gmarkup_end_element_&nbsp;(ctx, name[, pop])</strong></dt>
<dd>The function called when an ending tag of an element is seen.
<h3>Parameters:</h3>
<ul>
<li><code><em>ctx</em></code>: <a href=
"lua-glib.html#Class_markup_parse_context">markup_parse_context</a>
The context in which this was called</li>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The name
of the element being started</li>
<li><code><em>pop</em></code>: <strong>any</strong> If the context
was previously pushed, and this is called for the terminating
element of that context, this is the <code>pop</code> element which
was pushed along with the parser.</li>
</ul>
<h3>Raises:</h3>
Returns error message string on error.
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#markup_parse_context_new">markup_parse_context_new</a></div>
</dd>
<dt><a name="_gmarkup_text_" id="_gmarkup_text_"></a>
<strong>_gmarkup_text_&nbsp;(ctx, text)</strong></dt>
<dd>The function called when text within an element is seen.
<h3>Parameters:</h3>
<ul>
<li><code><em>ctx</em></code>: <a href=
"lua-glib.html#Class_markup_parse_context">markup_parse_context</a>
The context in which this was called</li>
<li><code><em>text</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
text.</li>
</ul>
<h3>Raises:</h3>
Returns error message string on error.
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#markup_parse_context_new">markup_parse_context_new</a></div>
</dd>
<dt><a name="_gmarkup_passthrough_" id="_gmarkup_passthrough_"></a>
<strong>_gmarkup_passthrough_&nbsp;(ctx, text)</strong></dt>
<dd>The function called when unprocessed text is seen.
<h3>Parameters:</h3>
<ul>
<li><code><em>ctx</em></code>: <a href=
"lua-glib.html#Class_markup_parse_context">markup_parse_context</a>
The context in which this was called</li>
<li><code><em>text</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
text.</li>
</ul>
<h3>Raises:</h3>
Returns error message string on error.
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#markup_parse_context_new">markup_parse_context_new</a></div>
</dd>
<dt><a name="_gmarkup_error_" id="_gmarkup_error_"></a>
<strong>_gmarkup_error_&nbsp;(ctx, text)</strong></dt>
<dd>The function called when an error occurs during parsing.
<h3>Parameters:</h3>
<ul>
<li><code><em>ctx</em></code>: <a href=
"lua-glib.html#Class_markup_parse_context">markup_parse_context</a>
The context in which this was called</li>
<li><code><em>text</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
error text.</li>
</ul>
<h3>see also:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#markup_parse_context_new">markup_parse_context_new</a></div>
</dd>
<dt><a name="markup_parse_context_new" id=
"markup_parse_context_new"></a>
<strong>markup_parse_context_new&nbsp;(options)</strong></dt>
<dd>Create GMarkup parser.
<h3>Parameters:</h3>
<ul>
<li><code><em>options</em></code>: {<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
=<strong>value</strong> ,...}
<p>Context creation options:</p>
<ul>
<li><strong>start_element</strong>: a function like <a href=
"lua-glib.html#_gmarkup_start_element_">_gmarkup_start_element_</a>
.</li>
<li><strong>end_element</strong>: a function like <a href=
"lua-glib.html#_gmarkup_end_element_">_gmarkup_end_element_</a>
.</li>
<li><strong>text</strong>: a function like <a href=
"lua-glib.html#_gmarkup_text_">_gmarkup_text_</a> .</li>
<li><strong>passthrough</strong>: a function like <a href=
"lua-glib.html#_gmarkup_passthrough_">_gmarkup_passthrough_</a>
.</li>
<li><strong>error</strong>: a function like <a href=
"lua-glib.html#_gmarkup_error_">_gmarkup_error_</a> .</li>
<li><strong>treat_cdata_as_text</strong>: If set and not false,
return CDATA sections as text instead of passthrough.</li>
<li><strong>prefix_error_position</strong>: If set and not false,
prefix error messages returned by the above functions with line and
column information.</li>
</ul>
</li>
</ul>
<h3>see also:</h3>
<ul>
<li><a href=
"lua-glib.html#_gmarkup_start_element_">_gmarkup_start_element_</a></li>
<li><a href=
"lua-glib.html#_gmarkup_end_element_">_gmarkup_end_element_</a></li>
<li><a href="lua-glib.html#_gmarkup_text_">_gmarkup_text_</a></li>
<li><a href=
"lua-glib.html#_gmarkup_passthrough_">_gmarkup_passthrough_</a></li>
<li><a href=
"lua-glib.html#_gmarkup_error_">_gmarkup_error_</a></li>
</ul>
</dd>
</dl>
<h2><a name="Class_markup_parse_context" id=
"Class_markup_parse_context"></a>Class markup_parse_context</h2>
<dl class="function">
<dt><a name="markup_parse_context:end_parse" id=
"markup_parse_context:end_parse"></a>
<strong>markup_parse_context:end_parse&nbsp;()</strong></dt>
<dd>Finish parsing.
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="markup_parse_context:get_position" id=
"markup_parse_context:get_position"></a>
<strong>markup_parse_context:get_position&nbsp;()</strong></dt>
<dd>Obtain current position in source text.
<h3>Returns:</h3>
<ol>
<li><strong>number</strong> The line number</li>
<li><strong>number</strong> The column number</li>
</ol>
</dd>
<dt><a name="markup_parse_context:get_element" id=
"markup_parse_context:get_element"></a>
<strong>markup_parse_context:get_element&nbsp;()</strong></dt>
<dd>Obtain the name of the current element being processed.
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
element name.</div>
</dd>
<dt><a name="markup_parse_context:get_element_stack" id=
"markup_parse_context:get_element_stack"></a>
<strong>markup_parse_context:get_element_stack&nbsp;()</strong></dt>
<dd>Obtain the complete path of element names to the current
element being processed.
<h3>Returns:</h3>
<div style="margin-left: 2em">{<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}The
element names, starting with the most deeply nested.</div>
</dd>
<dt><a name="markup_parse_context:parse" id=
"markup_parse_context:parse"></a>
<strong>markup_parse_context:parse&nbsp;(s)</strong></dt>
<dd>Parse some text.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The next
chunk of text to process</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
</dl>
<h2><a name="Key_value_file_parser" id=
"Key_value_file_parser"></a>Key-value file parser</h2>
<dl class="function">
<dt><a name="key_file_new" id="key_file_new"></a>
<strong>key_file_new&nbsp;()</strong></dt>
<dd>Create a new, empty key file.
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#Class_key_file">key_file</a> The empty key
file</div>
</dd>
</dl>
<h2><a name="Class_key_file" id="Class_key_file"></a>Class
key_file</h2>
<dl class="function">
<dt><a name="key_file:set_list_separator" id=
"key_file:set_list_separator"></a>
<strong>key_file:set_list_separator&nbsp;(sep)</strong></dt>
<dd>Sets character to separate values in lists.
<h3>Parameters:</h3>
<ul>
<li><code><em>sep</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
separator (only the first byte is used).</li>
</ul>
</dd>
<dt><a name="key_file:load_from_file" id=
"key_file:load_from_file"></a>
<strong>key_file:load_from_file&nbsp;(f[, dirs[, keep_com[,
keep_trans]]])</strong></dt>
<dd>Load a file.
<h3>Parameters:</h3>
<ul>
<li><code><em>f</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> File
name</li>
<li><code><em>dirs</em></code>: <strong>boolean</strong> |{<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...} If
true, search relative to standard configuration file directories.
If a table, search realtive to all directories in the table.
Otherwise, the file name is absolute or relative to the current
directory.</li>
<li><code><em>keep_com</em></code>: <strong>boolean</strong> If
true, keep comments so they are written by <a href=
"lua-glib.html#key_file:to_data">key_file:to_data</a> .</li>
<li><code><em>keep_trans</em></code>: <strong>boolean</strong> If
true, keep all translations so they are written by <a href=
"lua-glib.html#key_file:to_data">key_file:to_data</a> .</li>
</ul>
<h3>Returns:</h3>
<ol>
<li><strong>boolean</strong> True</li>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
actual file name if a directory search was done.</li>
</ol>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="key_file:load_from_data" id=
"key_file:load_from_data"></a>
<strong>key_file:load_from_data&nbsp;(s[, keep_com[,
keep_trans]])</strong></dt>
<dd>Load data.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
data</li>
<li><code><em>keep_com</em></code>: <strong>boolean</strong> If
true, keep comments so they are written by <a href=
"lua-glib.html#key_file:to_data">key_file:to_data</a> .</li>
<li><code><em>keep_trans</em></code>: <strong>boolean</strong> If
true, keep all translations so they are written by <a href=
"lua-glib.html#key_file:to_data">key_file:to_data</a> .</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="key_file:to_data" id="key_file:to_data"></a>
<strong>key_file:to_data&nbsp;()</strong></dt>
<dd>Convert entire key file to a string.
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The key
file contents</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="key_file:save_to_file" id="key_file:save_to_file"></a>
<strong>key_file:save_to_file&nbsp;(name)</strong></dt>
<dd>Writes out contents of key file. Uses same mechanism as
<a href="lua-glib.html#file_set">file_set</a> .
<p>This is only available with GLib 2.40 or later.</p>
<h3>Parameters:</h3>
<ul>
<li><code><em>name</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> File
name</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
successful</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="key_file:get_start_group" id=
"key_file:get_start_group"></a>
<strong>key_file:get_start_group&nbsp;()</strong></dt>
<dd>Get the start group of the key file.
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The name
of the start group</div>
</dd>
<dt><a name="key_file:get_groups" id="key_file:get_groups"></a>
<strong>key_file:get_groups&nbsp;()</strong></dt>
<dd>Get the names of all groups in the key file.
<h3>Returns:</h3>
<div style="margin-left: 2em">{<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}A
table containing the names of all the groups.</div>
</dd>
<dt><a name="key_file:get_keys" id="key_file:get_keys"></a>
<strong>key_file:get_keys&nbsp;(group)</strong></dt>
<dd>Get the names of all keys in a group.
<h3>Parameters:</h3>
<ul>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The name
of a group to query</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em">{<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}A
table containing the names of all keys in the *group</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="key_file:has_group" id="key_file:has_group"></a>
<strong>key_file:has_group&nbsp;(group)</strong></dt>
<dd>Check if group exists.
<h3>Parameters:</h3>
<ul>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
group name</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
group exists in key file.</div>
</dd>
<dt><a name="key_file:has_key" id="key_file:has_key"></a>
<strong>key_file:has_key&nbsp;(group, key)</strong></dt>
<dd>Check if key exists.
<h3>Parameters:</h3>
<ul>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
group name</li>
<li><code><em>key</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The key
name</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if key
exists in key file.</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="key_file:raw_get" id="key_file:raw_get"></a>
<strong>key_file:raw_get&nbsp;(group, key)</strong></dt>
<dd>Obtain raw value of a key.
<h3>Parameters:</h3>
<ul>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
group name</li>
<li><code><em>key</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The key
name</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
value</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="key_file:get" id="key_file:get"></a>
<strong>key_file:get&nbsp;(group, key[, locale])</strong></dt>
<dd>Obtain value of a key.
<h3>Parameters:</h3>
<ul>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
group name</li>
<li><code><em>key</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
key</li>
<li><code><em>locale</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> If
specified, get value translated into this locale, if available</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
parsed UTF-8 value</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="key_file:get_boolean" id="key_file:get_boolean"></a>
<strong>key_file:get_boolean&nbsp;(group, key)</strong></dt>
<dd>Obtain value of a boolean key.
<h3>Parameters:</h3>
<ul>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
group name</li>
<li><code><em>key</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
key</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> The
value</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="key_file:get_number" id="key_file:get_number"></a>
<strong>key_file:get_number&nbsp;(group, key)</strong></dt>
<dd>Obtain value of a numeric key.
<h3>Parameters:</h3>
<ul>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
group name</li>
<li><code><em>key</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
key</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>number</strong> The
value</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="key_file:get_list" id="key_file:get_list"></a>
<strong>key_file:get_list&nbsp;(group, key[, locale])</strong></dt>
<dd>Obtain value of a string list key. Note that while <a href=
"lua-glib.html#key_file:set_list">key_file:set_list</a> escapes
characters such as separators, this function does not handle such
escapes correctly. It would be better to just use <a href=
"lua-glib.html#key_file:raw_get">key_file:raw_get</a> and parse the
list out manually if escaped characters might be present.
<h3>Parameters:</h3>
<ul>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
group name</li>
<li><code><em>key</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
key</li>
<li><code><em>locale</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> If
specified, get value translated into this locale, if available</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em">{<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}The
list of parsed UTF-8 values</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="key_file:get_boolean_list" id=
"key_file:get_boolean_list"></a>
<strong>key_file:get_boolean_list&nbsp;(group, key)</strong></dt>
<dd>Obtain value of a boolean list key.
<h3>Parameters:</h3>
<ul>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
group name</li>
<li><code><em>key</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
key</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em">{<strong>boolean</strong> ,...}The
list of values</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="key_file:get_number_list" id=
"key_file:get_number_list"></a>
<strong>key_file:get_number_list&nbsp;(group, key)</strong></dt>
<dd>Obtain value of a number list key.
<h3>Parameters:</h3>
<ul>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
group name</li>
<li><code><em>key</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
key</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em">{<strong>number</strong> ,...}The
list of values</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="key_file:get_comment" id="key_file:get_comment"></a>
<strong>key_file:get_comment&nbsp;([group[, key]])</strong></dt>
<dd>Obtain comment above a key or group.
<h3>Parameters:</h3>
<ul>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
group name; if unspecified, the first group is used, and
<em>key</em> is ignored.</li>
<li><code><em>key</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The key
name; if specified, obtain comment above the key; otherwise, obtain
comment above group</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> |The
comment string</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="key_file:raw_set" id="key_file:raw_set"></a>
<strong>key_file:raw_set&nbsp;(group, key, value)</strong></dt>
<dd>Set raw value of a key.
<h3>Parameters:</h3>
<ul>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
group name</li>
<li><code><em>key</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The key
name</li>
<li><code><em>value</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
value</li>
</ul>
</dd>
<dt><a name="key_file:set" id="key_file:set"></a>
<strong>key_file:set&nbsp;(group, key, value[,
locale])</strong></dt>
<dd>Set value of a key.
<h3>Parameters:</h3>
<ul>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
group name</li>
<li><code><em>key</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
key</li>
<li><code><em>value</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
value</li>
<li><code><em>locale</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>boolean</strong> If a string, set value translated into
this locale. Otherwise, if true, set value translated into current
locale.</li>
</ul>
</dd>
<dt><a name="key_file:set_boolean" id="key_file:set_boolean"></a>
<strong>key_file:set_boolean&nbsp;(group, key, value)</strong></dt>
<dd>Set value of a boolean key.
<h3>Parameters:</h3>
<ul>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
group name</li>
<li><code><em>key</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
key</li>
<li><code><em>value</em></code>: <strong>boolean</strong> The
value</li>
</ul>
</dd>
<dt><a name="key_file:set_number" id="key_file:set_number"></a>
<strong>key_file:set_number&nbsp;(group, key, value)</strong></dt>
<dd>Set value of a numeric key.
<h3>Parameters:</h3>
<ul>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
group name</li>
<li><code><em>key</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
key</li>
<li><code><em>value</em></code>: <strong>number</strong> The
value</li>
</ul>
</dd>
<dt><a name="key_file:set_list" id="key_file:set_list"></a>
<strong>key_file:set_list&nbsp;(group, key, value[,
locale])</strong></dt>
<dd>Set value of a string list key.
<h3>Parameters:</h3>
<ul>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
group name</li>
<li><code><em>key</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
key</li>
<li><code><em>value</em></code>: {<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}
The value</li>
<li><code><em>locale</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
|<strong>boolean</strong> If a string, set value translated into
this locale. Otherwise, if true, set value translated into current
locale.</li>
</ul>
</dd>
<dt><a name="key_file:set_boolean_list" id=
"key_file:set_boolean_list"></a>
<strong>key_file:set_boolean_list&nbsp;(group, key,
value)</strong></dt>
<dd>Set value of a boolean list key.
<h3>Parameters:</h3>
<ul>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
group name</li>
<li><code><em>key</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
key</li>
<li><code><em>value</em></code>: {<strong>boolean</strong> ,...}
The value</li>
</ul>
</dd>
<dt><a name="key_file:set_number_list" id=
"key_file:set_number_list"></a>
<strong>key_file:set_number_list&nbsp;(group, key)</strong></dt>
<dd>Set value of a number list key.
<h3>Parameters:</h3>
<ul>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
group name</li>
<li><code><em>key</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
key</li>
</ul>
</dd>
<dt><a name="key_file:set_comment" id="key_file:set_comment"></a>
<strong>key_file:set_comment&nbsp;(comment[, group[,
key]])</strong></dt>
<dd>Set comment above a key or group.
<h3>Parameters:</h3>
<ul>
<li><code><em>comment</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
comment</li>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
group name; if unspecified, the first group is used, and
<em>key</em> is ignored.</li>
<li><code><em>key</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The key
name; if specified, obtain comment above the key; otherwise, obtain
comment above group</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="key_file:remove" id="key_file:remove"></a>
<strong>key_file:remove&nbsp;(group[, key])</strong></dt>
<dd>Remove a group or key.
<h3>Parameters:</h3>
<ul>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
group</li>
<li><code><em>key</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The key.
If specified, remove that key. Otherwise, remove the group
<em>group</em>.</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="key_file:remove_comment" id=
"key_file:remove_comment"></a>
<strong>key_file:remove_comment&nbsp;([group[, key]])</strong></dt>
<dd>Remove comment above a key or group.
<h3>Parameters:</h3>
<ul>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
group name; if unspecified, the first group is used, and
<em>key</em> is ignored.</li>
<li><code><em>key</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The key
name; if specified, obtain comment above the key; otherwise, obtain
comment above group</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
</dl>
<h2><a name="Bookmark_file_parser" id=
"Bookmark_file_parser"></a>Bookmark file parser</h2>
<dl class="function">
<dt><a name="bookmark_file_new" id="bookmark_file_new"></a>
<strong>bookmark_file_new&nbsp;()</strong></dt>
<dd>Create a new, empty bookmark file.
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"lua-glib.html#Class_bookmark_file">bookmark_file</a> The empty
bookmark file.</div>
</dd>
</dl>
<h2><a name="Class_bookmark_file" id=
"Class_bookmark_file"></a>Class bookmark_file</h2>
<dl class="function">
<dt><a name="bookmark_file:load_from_file" id=
"bookmark_file:load_from_file"></a>
<strong>bookmark_file:load_from_file&nbsp;(f[,
use_dirs])</strong></dt>
<dd>Load a file.
<h3>Parameters:</h3>
<ul>
<li><code><em>f</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> File
name</li>
<li><code><em>use_dirs</em></code>: <strong>boolean</strong> If
true, search relative to standard configuration file
directories.</li>
</ul>
<h3>Returns:</h3>
<ol>
<li><strong>boolean</strong> True</li>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
actual file name if a directory search was done.</li>
</ol>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="bookmark_file:load_from_data" id=
"bookmark_file:load_from_data"></a>
<strong>bookmark_file:load_from_data&nbsp;(s)</strong></dt>
<dd>Load data.
<h3>Parameters:</h3>
<ul>
<li><code><em>s</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
data</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="bookmark_file:to_data" id="bookmark_file:to_data"></a>
<strong>bookmark_file:to_data&nbsp;()</strong></dt>
<dd>Convert bookmark file to a string.
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
bookmark file contents</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="bookmark_file:to_file" id="bookmark_file:to_file"></a>
<strong>bookmark_file:to_file&nbsp;(f)</strong></dt>
<dd>Write bookmark file to a file.
<h3>Parameters:</h3>
<ul>
<li><code><em>f</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The file
name</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="bookmark_file:has_item" id=
"bookmark_file:has_item"></a>
<strong>bookmark_file:has_item&nbsp;(uri)</strong></dt>
<dd>Check if bookmark file has given URI.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The URI
to find</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
present</div>
</dd>
<dt><a name="bookmark_file:has_group" id=
"bookmark_file:has_group"></a>
<strong>bookmark_file:has_group&nbsp;(uri, group)</strong></dt>
<dd>Check if bookmark file has given URI in a given group.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The URI
to find</li>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
group to find</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
present in group</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="bookmark_file:has_application" id=
"bookmark_file:has_application"></a>
<strong>bookmark_file:has_application&nbsp;(uri, app)</strong></dt>
<dd>Check if bookmark file has given URI registered by a given
application.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The URI
to find</li>
<li><code><em>app</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
application</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
registed by application</div>
</dd>
<dt><a name="bookmark_file:__len" id="bookmark_file:__len"></a>
<strong>bookmark_file:__len&nbsp;()</strong></dt>
<dd>Get the number of bookmarks. This is the standard Lua #
operator, applied to a bookmark file.
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>number</strong> The number of
bookmarks.</div>
</dd>
<dt><a name="bookmark_file:uris" id="bookmark_file:uris"></a>
<strong>bookmark_file:uris&nbsp;()</strong></dt>
<dd>Get all URIs.
<h3>Returns:</h3>
<div style="margin-left: 2em">{<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}All
URIs.</div>
</dd>
<dt><a name="bookmark_file:title" id="bookmark_file:title"></a>
<strong>bookmark_file:title&nbsp;(uri)</strong></dt>
<dd>Get title for URI
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> Its
title</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="bookmark_file:description" id=
"bookmark_file:description"></a>
<strong>bookmark_file:description&nbsp;(uri)</strong></dt>
<dd>Get description for URI
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> Its
description</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="bookmark_file:mime_type" id=
"bookmark_file:mime_type"></a>
<strong>bookmark_file:mime_type&nbsp;(uri)</strong></dt>
<dd>Get MIME type for URI
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> Its MIME
type</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="bookmark_file:is_private" id=
"bookmark_file:is_private"></a>
<strong>bookmark_file:is_private&nbsp;(uri)</strong></dt>
<dd>Get private flag for URI
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True if
private flag set</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="bookmark_file:icon" id="bookmark_file:icon"></a>
<strong>bookmark_file:icon&nbsp;(uri)</strong></dt>
<dd>Get icon for URI.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
</ul>
<h3>Returns:</h3>
<ol>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The icon
URL</li>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
icon’s MIME type</li>
</ol>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="bookmark_file:added" id="bookmark_file:added"></a>
<strong>bookmark_file:added&nbsp;(uri)</strong></dt>
<dd>Get time URI was added.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>number</strong> The time
stamp, as seconds from epoch</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="bookmark_file:modified" id=
"bookmark_file:modified"></a>
<strong>bookmark_file:modified&nbsp;(uri)</strong></dt>
<dd>Get time URI was last modified.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>number</strong> The time
stamp, as seconds from epoch</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="bookmark_file:visited" id="bookmark_file:visited"></a>
<strong>bookmark_file:visited&nbsp;(uri)</strong></dt>
<dd>Get time URI was last visited.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>number</strong> The time
stamp, as seconds from epoch</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="bookmark_file:groups" id="bookmark_file:groups"></a>
<strong>bookmark_file:groups&nbsp;(uri)</strong></dt>
<dd>Get list of groups to which URI belongs.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em">{<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}The
list of groups</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="bookmark_file:applications" id=
"bookmark_file:applications"></a>
<strong>bookmark_file:applications&nbsp;(uri)</strong></dt>
<dd>Get list of applications which registered this URI.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em">{<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}The
list of applications</div>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="bookmark_file:boomark_file:app_info" id=
"bookmark_file:boomark_file:app_info"></a>
<strong>bookmark_file:boomark_file:app_info&nbsp;(uri,
app)</strong></dt>
<dd>Obtain registration information for application which
registered URI.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
<li><code><em>app</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
Application name</li>
</ul>
<h3>Returns:</h3>
<ol>
<li><a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
command to invoke <em>app</em> on <em>uri</em></li>
<li><strong>number</strong> The number of times <em>app</em>
registered <em>uri</em></li>
<li><strong>number</strong> The last time <em>app</em> registered
<em>uri</em></li>
</ol>
<h3>Raises:</h3>
Returns <code>nil</code> and error message string on error.</dd>
<dt><a name="bookmark_file:set_title" id=
"bookmark_file:set_title"></a>
<strong>bookmark_file:set_title&nbsp;([uri], title)</strong></dt>
<dd>Set title for URI
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The URI.
If <code>nil</code>, the title of the bookmark file is set.</li>
<li><code><em>title</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The new
title</li>
</ul>
</dd>
<dt><a name="bookmark_file:set_description" id=
"bookmark_file:set_description"></a>
<strong>bookmark_file:set_description&nbsp;([uri],
desc)</strong></dt>
<dd>Set description for URI
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The URI.
If <code>nil</code>, the title of the bookmark file is set.</li>
<li><code><em>desc</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The new
description</li>
</ul>
</dd>
<dt><a name="bookmark_file:set_mime_type" id=
"bookmark_file:set_mime_type"></a>
<strong>bookmark_file:set_mime_type&nbsp;(uri,
mime_type)</strong></dt>
<dd>Set MIME type for URI
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
<li><code><em>mime_type</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The new
MIME type</li>
</ul>
</dd>
<dt><a name="bookmark_file:set_is_private" id=
"bookmark_file:set_is_private"></a>
<strong>bookmark_file:set_is_private&nbsp;(uri,
private)</strong></dt>
<dd>Set private flag for URI
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
<li><code><em>private</em></code>: <strong>boolean</strong> The new
flag</li>
</ul>
</dd>
<dt><a name="bookmark_file:set_icon" id=
"bookmark_file:set_icon"></a>
<strong>bookmark_file:set_icon&nbsp;(uri, icon,
mime_type)</strong></dt>
<dd>Set icon for URI.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
<li><code><em>icon</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The icon
URL</li>
<li><code><em>mime_type</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
icon’s MIME type</li>
</ul>
</dd>
<dt><a name="bookmark_file:set_added" id=
"bookmark_file:set_added"></a>
<strong>bookmark_file:set_added&nbsp;(uri, time)</strong></dt>
<dd>Set time URI was added.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
<li><code><em>time</em></code>: <strong>number</strong> The time
stamp, as seconds from epoch</li>
</ul>
</dd>
<dt><a name="bookmark_file:set_modified" id=
"bookmark_file:set_modified"></a>
<strong>bookmark_file:set_modified&nbsp;(uri, time)</strong></dt>
<dd>Set time URI was modified.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
<li><code><em>time</em></code>: <strong>number</strong> The time
stamp, as seconds from epoch</li>
</ul>
</dd>
<dt><a name="bookmark_file:set_visited" id=
"bookmark_file:set_visited"></a>
<strong>bookmark_file:set_visited&nbsp;(uri, time)</strong></dt>
<dd>Set time URI was visited.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
<li><code><em>time</em></code>: <strong>number</strong> The time
stamp, as seconds from epoch</li>
</ul>
</dd>
<dt><a name="bookmark_file:set_groups" id=
"bookmark_file:set_groups"></a>
<strong>bookmark_file:set_groups&nbsp;(uri)</strong></dt>
<dd>Set list of groups to which URI belongs.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em">{<a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> ,...}The
list of groups</div>
</dd>
<dt><a name="bookmark_file:set_app_info" id=
"bookmark_file:set_app_info"></a>
<strong>bookmark_file:set_app_info&nbsp;(uri, app, exec[, rcount[,
stamp]])</strong></dt>
<dd>Set registration information for application which registered
URI.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
<li><code><em>app</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a>
Application name</li>
<li><code><em>exec</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
command to invoke <em>app</em> on <em>uri</em> (%f == file, %u ==
uri)</li>
<li><code><em>rcount</em></code>: <strong>number</strong> The
number of times <em>app</em> registered <em>uri</em> (absent,
<code>nil</code>, or less than 0 to simply increment, or 0 to
remove)</li>
<li><code><em>stamp</em></code>: <strong>number</strong> The last
time <em>app</em> registered <em>uri</em> (or -1, <code>nil</code>,
or absent for current time)</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="bookmark_file:add_group" id=
"bookmark_file:add_group"></a>
<strong>bookmark_file:add_group&nbsp;(uri, group)</strong></dt>
<dd>Add a group to the list of groups URI belongs to.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
group</li>
</ul>
</dd>
<dt><a name="bookmark_file:add_application" id=
"bookmark_file:add_application"></a>
<strong>bookmark_file:add_application&nbsp;(uri, app,
exec)</strong></dt>
<dd>Add an application to the list of applications that registered
this URI.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
<li><code><em>app</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
application name</li>
<li><code><em>exec</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
command line to invoke application on URI (%f = file, %u =
URI)</li>
</ul>
</dd>
<dt><a name="bookmark_file:remove_group" id=
"bookmark_file:remove_group"></a>
<strong>bookmark_file:remove_group&nbsp;(uri, group)</strong></dt>
<dd>Remove a group from the list of groups URI belongs to.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
<li><code><em>group</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
group</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="bookmark_file:remove_application" id=
"bookmark_file:remove_application"></a>
<strong>bookmark_file:remove_application&nbsp;(uri,
app)</strong></dt>
<dd>Remove an application from the list of applications that
registered this URI.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
<li><code><em>app</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
application name</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="bookmark_file:remove" id="bookmark_file:remove"></a>
<strong>bookmark_file:remove&nbsp;(uri)</strong></dt>
<dd>Remove URI.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
<dt><a name="bookmark_file:move" id="bookmark_file:move"></a>
<strong>bookmark_file:move&nbsp;(uri, new)</strong></dt>
<dd>Change URI, retaining group and application information.
<h3>Parameters:</h3>
<ul>
<li><code><em>uri</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The
URI</li>
<li><code><em>new</em></code>: <a href=
"http://www.lua.org/manual/5.1/manual.html#5.4">string</a> The new
URI</li>
</ul>
<h3>Returns:</h3>
<div style="margin-left: 2em"><strong>boolean</strong> True</div>
<h3>Raises:</h3>
Returns false and error message string on error.</dd>
</dl>
</div>
<!-- id="content" --></div>
<!-- id="main" -->
<div id="about"><i>generated by <a href=
"http://github.com/stevedonovan/LDoc">LDoc 1.2</a></i></div>
<!-- id="about" --></div>
<!-- id="container" -->
</body>
</html>
